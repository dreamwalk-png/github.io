<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>GameMap – Interactive Genre Encyclopedia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Explore game genres, sub-genres and iconic titles – mobile or desktop.">
  <style>
    html,body{margin:0;padding:0;height:100%;background:#0b0b0c;color:#e6eef3;font-family:system-ui,-apple-system,sans-serif}
    .loader{
      height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;
    }
    .loader h1{font-size:1.8rem;margin-bottom:.5rem;color:#6be6c1}
    .loader p{font-size:1rem;opacity:.8}
    .dot{
      width:8px;height:8px;background:#6be6c1;border-radius:50%;display:inline-block;
      animation:pulse 1.5s infinite;margin-left:6px;
    }
    @keyframes pulse{
      0%,100%{opacity:.4;transform:scale(.8)}
      50%{opacity:1;transform:scale(1)}
    }
  </style>
</head>
<body>
  <div class="loader">
    <h1>GameMap</h1>
    <p>Detecting device<span class="dot"></span></p>
  </div>

  <script>
    // -------------------------------------------------
    // 1. Detect mobile
    // -------------------------------------------------
    const isMobile = /Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

    // -------------------------------------------------
    // 2. Create an <iframe> that loads the right page
    // -------------------------------------------------
    const iframe = document.createElement('iframe');
    iframe.src = isMobile ? 'gamemap-mobile.html' : 'gamemap-desktop.html';
    iframe.style = 'position:absolute;top:0;left:0;width:100%;height:100%;border:none;';
    iframe.loading = 'eager';
    iframe.allowFullscreen = true;

    // Replace the loader with the iframe once it starts loading
    iframe.onload = () => {
      document.body.innerHTML = '';
      document.body.appendChild(iframe);
    };

    // Fallback: if the file is missing, show a friendly message
    iframe.onerror = () => {
      document.body.innerHTML = `
        <div class="loader">
          <h1>Oops!</h1>
          <p>Could not load the ${isMobile ? 'mobile' : 'desktop'} version.<br>
          Make sure <code>${isMobile ? 'gamemap-mobile.html' : 'gamemap-desktop.html'}</code> exists in the same folder.</p>
        </div>`;
    };

    // Start loading
    document.body.appendChild(iframe);
  </script>
</body>
</html>
