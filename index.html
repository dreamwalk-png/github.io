<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Game Genre Map — Interactive Encyclopedia</title>
<meta name="description" content="Interactive one-page map of game genres, subgenres and representative game titles." />
<style>
  :root{
    --bg:#0b0b0c;
    --panel:#0f1720;
    --muted:#98a0aa;
    --glass: rgba(255,255,255,0.06);
    --bubble-size: 120px;
    --main-bubble-size: 120px;
    --sub-bubble-size: 76px;
    --font-sans: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{
    height:100%;margin:0;background:var(--bg);color:#e6eef3;
    font-family:var(--font-sans);-webkit-font-smoothing:antialiased;
    overflow:hidden;
  }
  .app{
    height:100vh;display:flex;position:relative;overflow:hidden;
  }
  .map{
    flex:1;position:relative;min-width:0;
    display:flex;align-items:center;justify-content:center;
  }
  svg.lines{
    position:absolute;inset:0;pointer-events:none;
    z-index:1;                     /* lines behind bubbles */
  }
  .hub{
    position:relative;width:min(1200px,92%);height:min(800px,86vh);
    max-width:1600px;border-radius:16px;
    background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);
    box-shadow:0 8px 40px rgba(0,0,0,0.6),inset 0 1px 0 rgba(255,255,255,0.02);
    overflow:visible;              /* allow sub-genres to escape the hub */
    z-index:2;
    margin-left: 260px;           /* make space for the left panel */
    width: calc(min(1200px, 92%) - 260px);
  }
  .bubbles{
    position:absolute;inset:0;pointer-events:auto;
    z-index:10;                    /* bubbles on top */
  }
  .bubble{
    position:absolute;transform:translate(-50%,-50%);
    display:flex;align-items:center;justify-content:center;
    text-align:center;cursor:pointer;user-select:none;
    transition:all .28s cubic-bezier(.2,.9,.3,1);
    will-change:transform;border-radius:999px;
    backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
    box-shadow:0 8px 24px rgba(0,0,0,0.7),0 0 0 1px rgba(255,255,255,0.08);
    background:var(--bubble-bg,linear-gradient(135deg,rgba(255,255,255,0.08),rgba(255,255,255,0.03)));
    border:1px solid var(--bubble-border,rgba(255,255,255,0.1));
    padding:14px 16px;color:#fff;font-weight:700;font-size:15px;
    letter-spacing:0.4px;text-shadow:0 1px 2px rgba(0,0,0,0.5);
    min-width:80px;z-index:10;
  }
  .bubble:focus{
    outline:none;
    box-shadow:0 12px 36px rgba(0,0,0,0.8),0 0 0 4px var(--accent,rgba(107,230,193,0.3));
  }
  .main{
    width:var(--main-bubble-size);height:var(--main-bubble-size);
    font-size:16px;font-weight:800;text-transform:uppercase;letter-spacing:1.2px;
  }
  .sub{
    width:var(--sub-bubble-size);height:var(--sub-bubble-size);
    font-size:12.5px;font-weight:700;
    background:var(--sub-bg,rgba(255,255,255,0.1));
    border:1px solid var(--sub-border,rgba(255,255,255,0.15));
    backdrop-filter:blur(12px);box-shadow:0 6px 16px rgba(0,0,0,0.6);
  }
  .game-box{
    background:rgba(15,23,32,0.85);padding:12px 16px;border-radius:16px;
    font-weight:600;font-size:13px;color:#e0f2fe;max-width:100%;
    white-space:normal;text-align:left;
    border:1px solid rgba(255,255,255,0.12);backdrop-filter:blur(8px);
    box-shadow:0 4px 12px rgba(0,0,0,0.5);
    transition:all .2s ease;cursor:pointer;
  }
  .game-box:hover{
    background:rgba(30,40,55,0.9);transform:translateY(-2px);
    box-shadow:0 6px 16px rgba(0,0,0,0.6);
  }
  .bubble.active{
    transform:translate(-50%,-50%) scale(1.12);
    box-shadow:0 20px 50px rgba(0,0,0,0.8),0 0 0 5px var(--accent,rgba(107,230,193,0.4));
    z-index:20;
  }
  .bubble.fade-out{
    opacity:0.3;transform:translate(-50%,-50%) scale(0.94);filter:blur(0.5px);
  }
  .topbar{
    position:absolute;left:280px;top:14px;display:flex;align-items:center;
    gap:12px;z-index:30;
  }
  .brand{
    display:flex;gap:10px;align-items:center;color:var(--accent);
    font-weight:700;letter-spacing:0.6px;font-size:18px;text-transform:uppercase;
  }
  .brand .dot{
    width:10px;height:10px;border-radius:50%;background:var(--accent);
    box-shadow:0 0 16px var(--accent);
  }
  .panel{
    width:360px;max-width:92vw;
    background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));
    border-left:1px solid rgba(255,255,255,0.03);position:relative;
    z-index:60;padding:22px;box-shadow:-10px 0 40px rgba(0,0,0,0.7);
    transform:translateX(100%);transition:transform .32s cubic-bezier(.2,.9,.3,1);
    display:flex;flex-direction:column;gap:14px;color:#cfe8e0;
  }
  .panel.open{transform:translateX(0);}
  .panel h2{margin:0;font-size:21px;font-weight:800;color:#fff;}
  .panel .meta{color:var(--muted);font-size:13.5px;margin-top:4px;}
  .panel p{margin:0;color:#d7eef0;line-height:1.5;font-size:14.5px;}
  .panel .close{
    margin-left:auto;background:transparent;border:0;color:var(--muted);
    font-size:20px;cursor:pointer;width:36px;height:36px;
    display:flex;align-items:center;justify-content:center;
    border-radius:50%;transition:.2s;
  }
  .panel .close:hover{background:rgba(255,255,255,0.1);color:#fff;}
  .panel .games-list{
    margin-top:10px;display:flex;flex-direction:column;gap:9px;
    max-height:42vh;overflow:auto;padding-right:6px;
  }
  .games-list button{
    background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.1);
    padding:10px 12px;border-radius:12px;color:#e6f7ef;text-align:left;
    cursor:pointer;font-weight:600;font-size:13.5px;transition:all .2s ease;
    backdrop-filter:blur(4px);
  }
  .games-list button:hover{
    background:rgba(255,255,255,0.12);border-color:var(--accent,#6be6c1);
    transform:translateX(4px);
  }
  .hint{
    position:absolute;right:18px;bottom:12px;color:var(--muted);
    font-size:13px;z-index:20;backdrop-filter:blur(8px);
    padding:9px 12px;border-radius:12px;background:rgba(255,255,255,0.03);
    border:1px solid rgba(255,255,255,0.05);font-weight:500;
  }
  .bubble:hover{
    transform:translate(-50%,-50%) scale(1.08);
    box-shadow:0 14px 36px rgba(0,0,0,0.75),0 0 0 3px var(--accent,rgba(107,230,193,0.25));
  }
  .grid-overlay{
    position:absolute;inset:0;pointer-events:none;
    background-image:radial-gradient(circle at center,rgba(255,255,255,0.02) 1px,transparent 1px);
    background-size:120px 120px;opacity:0.1;mix-blend-mode:screen;
    z-index:0;
  }
  #cursor-trail{
    position:fixed;width:12px;height:12px;
    background:radial-gradient(circle,var(--trail-color,#6be6c1) 0%,transparent 70%);
    border-radius:50%;pointer-events:none;transform:translate(-50%,-50%);
    z-index:9999;opacity:0.7;transition:opacity .3s ease;mix-blend-mode:screen;
  }
  .games-left {
    position: fixed;              /* now fixed to viewport */
    left: 0;
    top: 0;
    bottom: 0;
    width: 260px;
    background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border-right: 1px solid rgba(255,255,255,0.03);
    z-index: 50;
    padding: 20px;
    box-shadow: 10px 0 40px rgba(0,0,0,0.7);
    transform: translateX(-100%);
    transition: transform .32s cubic-bezier(.2,.9,.3,1);
    display: flex;
    flex-direction: column;
    gap: 12px;
    overflow: auto;
    color: #cfe8e0;
  }
  .games-left.open {
    transform: translateX(0);
  }
  .games-left h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 700;
    color: #fff;
  }
  .games-left-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  /* === BETTER MOBILE DESIGN === */
  @media (max-width: 768px) {
    .app {
      flex-direction: column; /* stack elements vertically */
      overflow-y: auto;
    }
    .hub {
      margin-left: 0;
      width: 100%;
      height: auto; /* flexible height */
      min-height: 60vh;
      border-radius: 0;
      overflow: visible;
      padding: 20px 0;
      box-shadow: none;
    }
    .bubbles {
      position: relative;
      height: 60vh; /* scrollable map on mobile */
      overflow: auto;
      touch-action: pan-y; /* enable touch scrolling */
    }
    .bubble {
      font-size: 13px; /* smaller text for mobile */
      padding: 10px 12px;
      min-width: 60px;
    }
    .main {
      width: 100px;
      height: 100px;
      font-size: 14px;
    }
    .sub {
      width: 60px;
      height: 60px;
      font-size: 10px;
    }
    .topbar {
      left: 16px;
      top: 8px;
      z-index: 100;
      background: rgba(0,0,0,0.8); /* semi-transparent bar for visibility */
      padding: 8px 12px;
      border-radius: 20px;
      width: calc(100% - 32px);
      justify-content: center;
    }
    .panel {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      width: 100%;
      height: 50vh;
      transform: translateY(100%);
      border-top: 1px solid rgba(255,255,255,0.03);
      border-left: none;
      box-shadow: 0 -10px 40px rgba(0,0,0,0.7);
      padding: 16px;
      overflow: auto;
    }
    .panel.open {
      transform: translateY(0);
    }
    .games-left {
      position: fixed;
      bottom: 50vh;
      left: 0;
      right: 0;
      width: 100%;
      height: 50vh;
      top: auto;
      transform: translateY(100%);
      border-top: 1px solid rgba(255,255,255,0.03);
      box-shadow: 0 -10px 40px rgba(0,0,0,0.7);
      padding: 16px;
    }
    .games-left.open {
      transform: translateY(0);
    }
    .hint {
      position: fixed;
      bottom: 8px;
      right: 16px;
      left: 16px;
      text-align: center;
      z-index: 100;
      background: rgba(0,0,0,0.8);
      padding: 8px;
      border-radius: 12px;
    }
    /* Adjust bubble layout for smaller screen */
    :root {
      --main-bubble-size: 100px;
      --sub-bubble-size: 60px;
    }
  }
</style>
</head>
<body>
<div class="app" role="application" aria-label="Game genre map">
  <div class="map">
    <div class="hub" id="hub" aria-hidden="false">
      <div class="topbar">
        <div class="brand" title="GameMap">
          <span class="dot" aria-hidden="true"></span>
          GameMap
        </div>
      </div>
      <svg class="lines" id="svg-lines" aria-hidden="true"></svg>
      <div class="bubbles" id="bubbles" tabindex="0" aria-label="Genre bubbles container"></div>
      <div class="grid-overlay" aria-hidden="true"></div>
      <div class="hint" aria-hidden="false">Click a genre to expand — tap again to close</div>
      <div id="games-left" class="games-left" aria-hidden="true"></div>
    </div>
  </div>
  <aside class="panel" id="panel" aria-hidden="true" aria-labelledby="panel-title">
    <div style="display:flex;align-items:center;gap:12px;">
      <div>
        <h2 id="panel-title">Welcome</h2>
        <div class="meta" id="panel-meta">Interactive encyclopedia of game genres</div>
      </div>
      <button class="close" id="panel-close" aria-label="Close side panel">x</button>
    </div>
    <p id="panel-desc">Click any main genre or subgenre bubble to explore descriptions and iconic games.</p>
    <div style="font-size:13px;color:var(--muted);margin-top:8px;">Notable titles</div>
    <div class="games-list" id="panel-games" role="list"></div>
  </aside>
</div>

<div id="cursor-trail"></div>

<script>
/* ---------- EXPANDED DATA WITH MORE GAMES AND LONGER DESCRIPTIONS ---------- */
const GENRE_DATA = [
  {
    id: 'rpg',
    name: 'RPG',
    desc: 'Role-playing games emphasize character progression, narrative, and player choices. Subgenres vary from action-oriented to party-based tactics and online persistent worlds. Players often embark on epic quests, develop skills, and make decisions that shape the story.',
    subgenres: [
      { id:'mmorpg', name:'MMORPG', desc:'Massively multiplayer RPGs with persistent worlds and social systems. These games allow thousands of players to interact in a shared universe, forming guilds, trading, and battling together or against each other.', games:[
        'World of Warcraft (2004) — The defining MMORPG that popularized subscription-based online worlds. It features a vast continent of Azeroth filled with lore, raids, and player-vs-player combat, attracting millions over decades.',
        'Final Fantasy XIV (2013) — A story-rich MMO that evolved from a failed launch into a critical darling. With deep class systems, housing, and expansive narratives, it offers both casual and hardcore content.',
        'Guild Wars 2 (2012) — Free-to-play MMORPG with dynamic events and no subscription. Its living world updates and horizontal progression keep the game fresh for exploration and group activities.',
        'The Elder Scrolls Online (2014) — Brings Skyrim’s world into a massive multiplayer format. Players can explore Tamriel, craft, and engage in alliance wars across provinces.',
        'Black Desert Online (2015) — Known for stunning visuals and deep life skills. It emphasizes action combat, node management, and a vibrant economy in a sandbox world.',
        'RuneScape (2001) — Iconic browser-based MMO with extensive skill grinding and quests. It has evolved with Old School and modern versions, offering player-driven content and community events.',
        'Eve Online (2003) — Space-based MMO focused on economy, politics, and massive fleet battles. Players control corporations in a player-driven universe where betrayal and alliances shape history.',
        'Star Wars: The Old Republic (2011) — Story-driven MMO in the Star Wars universe with class-specific narratives. It features voice acting, companions, and light/dark side choices.',
        'Lost Ark (2019) — Isometric MMOARPG with fast-paced combat and sailing. It combines dungeon crawling, island exploration, and collectibles in a fantasy setting.',
        'New World (2021) — Amazon\'s MMO with colonial themes, crafting, and territory control. It emphasizes PvP wars and resource gathering on the island of Aeternum.',
        'Albion Online (2017) — Sandbox MMO with full-loot PvP and player economy. Classes are gear-based, and guilds fight for territories in an open world.',
        'Path of Exile 2 (2024) — Upcoming sequel to the ARPG with MMO elements. It features a shared world, deeper skills, and challenging endgame content.'
      ] },
      { id:'arpg', name:'Action RPG', desc:'Real-time combat and loot-driven progression. These games focus on hacking through enemies, collecting gear, and building powerful characters in dynamic battles.', games:[
        'Diablo II (2000) — The gold standard for loot-driven hack-and-slash gameplay. Its dark atmosphere, class variety, and addictive item hunt defined the genre for years.',
        'Diablo III (2012) — Streamlined sequel with seasonal content and fast-paced action. It introduced adventure mode and rifts for endless replayability.',
        'Path of Exile (2013) — Free-to-play with unmatched build complexity and depth. Its passive skill tree and currency system allow for endless customization in a grim world.',
        'Torchlight II (2012) — Colorful, accessible ARPG with mod support. Players explore vibrant areas with pets, dual-wielding, and randomized dungeons.',
        'Grim Dawn (2016) — Dark, gritty ARPG with dual-classing and deep crafting. Set in a post-apocalyptic world, it emphasizes resistance building and faction quests.',
        'Diablo IV (2023) — Open-world ARPG with live service elements. It features mounted combat, world bosses, and a darker tone with Lilith\'s return.',
        'Last Epoch (2024) — Time-travel ARPG with mastery classes. It offers skill specialization, crafting, and a campaign spanning eras.',
        'Titan Quest (2006) — Mythology-based ARPG with multi-classing. Explore ancient worlds like Greece and Egypt, fighting legendary beasts.',
        'Wolcen: Lords of Mayhem (2020) — Action-packed ARPG with apocalyptic form. It has fluid combat and a skill tree without classes.',
        'Victor Vran (2015) — Monster-hunting ARPG with jumping mechanics. Customize loadouts with demon powers in a gothic setting.',
        'The Incredible Adventures of Van Helsing (2013) — Steampunk ARPG with tower defense elements. Play as the son of the famous hunter with gadgets and companions.',
        'Sacred 2: Fallen Angel (2008) — Open-world ARPG with huge map. Choose from unique classes like Seraphim in a fantasy realm.'
      ] },
      { id:'jrpg', name:'JRPG', desc:'Narrative-driven RPGs often with turn-based combat and character ensembles. These games emphasize story, character development, and emotional journeys.', games:[
        'Chrono Trigger (1995) — Timeless classic with multiple endings and time travel. Its innovative combat and branching paths make it a masterpiece of storytelling.',
        'Final Fantasy VII (1997) — Iconic 3D JRPG that defined a generation. Follow Cloud and friends against Sephiroth in a world of mako energy and corporate tyranny.',
        'Persona 5 (2016) — Stylish social sim + turn-based combat with deep themes. As Phantom Thieves, reform society while balancing school life.',
        'Dragon Quest XI (2017) — Traditional JRPG with beautiful art and epic scope. The Luminary\'s quest spans continents with charming companions.',
        'Nier: Automata (2017) — Philosophical action-JRPG with genre-blending gameplay. Androids fight machines in a post-human world, exploring existence.',
        'Final Fantasy VI (1994) — Epic tale of rebellion against an empire. With a large cast and magicite system, it\'s known for its emotional depth.',
        'Persona 4 (2008) — Murder mystery in rural Japan with social links. Balance dungeon crawling and friendships to uncover the truth.',
        'EarthBound (1994) — Quirky JRPG with modern setting. Ness and friends fight aliens using PSI powers in a satirical world.',
        'Xenoblade Chronicles (2010) — Open-world JRPG on titan bodies. Explore vast areas with chain attacks and affinity system.',
        'Tales of Symphonia (2003) — Action combat JRPG with co-op. Chosen\'s journey to regenerate the world hides deeper twists.',
        'Suikoden II (1998) — Political JRPG with 108 recruitable stars. Build an army and castle in a war-torn land.',
        'Mother 3 (2006) — Emotional sequel with rhythm combat. Follow Lucas in a changing world after tragedy.',
        'Final Fantasy X (2001) — Summoner\'s pilgrimage with sphere grid. Tidus and Yuna\'s story explores faith and sacrifice.',
        'Shin Megami Tensei V (2021) — Post-apocalyptic demon fusion JRPG. Choose alignments in a demon-infested Tokyo.',
        'Octopath Traveler (2018) — HD-2D JRPG with eight stories. Mix jobs and paths in a beautiful pixel world.'
      ] },
      { id:'roguelike', name:'Traditional Roguelike', desc:'Procedural generation, permadeath, grid-based movement, and high complexity. These games challenge players with random dungeons and strategic decisions where death is permanent.', games:[
        'NetHack (1987) — The deepest and most unforgiving roguelike ever made. With hundreds of items and monsters, ascension requires mastery and luck.',
        'Dungeon Crawl Stone Soup (2006) — Streamlined yet complex, community-driven. Choose from races and gods for unique runs in the dungeon.',
        'Tales of Maj\'Eyal (2012) — Rich fantasy world with deep lore and classes. Unlockables and talents add replayability across campaigns.',
        'Caves of Qud (2015) — Post-apocalyptic sci-fi roguelike with emergent storytelling. Mutate your character in a procedurally generated wasteland.',
        'Angband (1990) — Tolkien-inspired roguelike focused on Morgoth. Dive deep into levels for artifacts and power.',
        'Ancient Domains of Mystery (1994) — Epic roguelike with corruption mechanic. Quest to close the Chaos Gate in Ancardia.',
        'HyperRogue (2015) — Non-Euclidean geometry roguelike. Navigate hyperbolic planes collecting treasures.',
        'Sil (2013) — Short roguelike inspired by Tolkien\'s Silmarillion. Stealth and light management in Angband.',
        'Brogue (2009) — Accessible roguelike with beautiful ASCII. Environmental interactions like fire and gas add tactics.',
        'Cataclysm: DDA (2013) — Zombie apocalypse survival roguelike. Craft, drive, and mutate in a detailed world.',
        'Cogmind (2017) — Sci-fi roguelike as a robot. Hack terminals and build parts in a grid-based facility.'
      ] },
      { id:'roguelite', name:'Roguelite', desc:'Roguelike-inspired with meta-progression and shorter runs. These games offer procedurally generated challenges but allow permanent upgrades between attempts.', games:[
        'Hades (2020) — Narrative-driven roguelite with Greek mythology and tight combat. Escape the underworld with boons from gods, uncovering family secrets.',
        'Dead Cells (2018) — Fast-paced Metroidvania-roguelite hybrid. Fluid movement and weapon variety in a cursed island.',
        'Rogue Legacy 2 (2022) — Platformer roguelite with heir-based progression. Each death passes traits to descendants in a castle.',
        'Slay the Spire (2019) — Deckbuilding roguelite that redefined the subgenre. Climb the spire with card synergies and relics.',
        'The Binding of Isaac: Rebirth (2014) — Dark, twisted twin-stick roguelite. Item combos create wild runs in basement horrors.',
        'Enter the Gungeon (2016) — Bullet hell roguelite with gun puns. Dodge rolls and table flips in a firearm dungeon.',
        'Spelunky 2 (2020) — Challenging platform roguelite with secrets. Explore moon caves with procedural levels and mounts.',
        'Risk of Rain 2 (2019) — 3D roguelite with survivor classes. Stack items in escalating chaos on alien planets.',
        'Noita (2019) — Pixel physics roguelite with wand crafting. Every pixel simulates elements in a destructive world.',
        'Cult of the Lamb (2022) — Roguelite with cult management. Build a following between action runs against bishops.',
        'Vampire Survivors (2022) — Auto-attacker roguelite horde survival. Evolve weapons in endless waves.',
        'Loop Hero (2021) — Deckbuilding roguelite with loop mechanics. Place tiles to shape the path and fights.'
      ] },
      { id:'soulslike', name:'Soulslike', desc:'High-difficulty, methodical combat with interconnected worlds and checkpoint systems. These games reward patience, exploration, and learning from failure.', games:[
        'Dark Souls (2011) — The game that defined the genre with its punishing difficulty. Interconnected world of Lordran with deep lore and boss fights.',
        'Bloodborne (2015) — Gothic horror Soulslike with aggressive combat. Hunt beasts in Yharnam with trick weapons and rally mechanic.',
        'Sekiro: Shadows Die Twice (2019) — Rhythm-based combat with verticality and stealth. As the one-armed wolf, protect your lord in feudal Japan.',
        'Elden Ring (2022) — Open-world Soulslike with vast exploration and freedom. Ride Torrent across the Lands Between to become Elden Lord.',
        'Lies of P (2023) — Pinocchio-inspired Soulslike with weapon crafting. Fight puppets in Krat with lies affecting the story.',
        'Demon\'s Souls (2009) — The original with nexus hub. Remade in 2020, explore Boletaria\'s archstones.',
        'Nioh (2017) — Samurai Soulslike with stance combat. Loot-driven with missions in historical Japan.',
        'The Surge (2017) — Sci-fi Soulslike with limb targeting. Dismember exosuits in a dystopian facility.',
        'Remnant: From the Ashes (2019) — Shooter Soulslike with procedural worlds. Co-op against root horrors.',
        'Code Vein (2019) — Anime Soulslike with blood codes. Vampire themes and companion AI.',
        'Mortal Shell (2020) — Shell-swapping Soulslike. Possess bodies for different playstyles.',
        'Wo Long: Fallen Dynasty (2023) — Chinese mythology Soulslike with spells. Fast combat in Three Kingdoms era.'
      ] },
      { id:'wrpg', name:'Western RPG', desc:'Open-world or choice-heavy RPGs with player freedom and moral ambiguity. These games often feature branching narratives and player agency in shaping the world.', games:[
        'The Witcher 3: Wild Hunt (2015) — Epic narrative with meaningful choices. Geralt hunts for Ciri in a war-torn world full of monsters and politics.',
        'Baldur\'s Gate 3 (2023) — D&D-based RPG with unparalleled reactivity. Party-based adventures with mind flayers and absolute power.',
        'Fallout: New Vegas (2010) — Post-apocalyptic RPG with faction politics. Shape the Mojave\'s future through quests and alignments.',
        'Dragon Age: Origins (2009) — Party-based RPG with deep companion stories. Unite Ferelden against the Blight as a Grey Warden.',
        'Mass Effect 2 (2010) — Sci-fi RPG with squad loyalty missions. Shepard assembles a team for a suicide mission against Collectors.',
        'Cyberpunk 2077 (2020) — Open-world RPG in Night City. V\'s merc life involves corpo intrigue and braindance tech.',
        'Divinity: Original Sin 2 (2017) — Co-op RPG with elemental interactions. Escape Fort Joy as Sourcerers in Rivellon.',
        'Kingdom Come: Deliverance (2018) — Realistic medieval RPG. Henry\'s revenge quest with hunger, combat training.',
        'Pillars of Eternity (2015) — Isometric RPG with soul reading. Watchers investigate infant hollowborn crisis.',
        'Tyranny (2016) — Evil overlord RPG. Make choices as Fatebinder in conquered lands.',
        'Deus Ex (2000) — Immersive sim RPG with conspiracies. JC Denton uncovers global plots with augmentations.',
        'Vampire: The Masquerade - Bloodlines (2004) — Undead RPG with clans. Navigate LA\'s vampire society and sarcophagus mystery.',
        'Arcanum: Of Steamworks and Magick Obscura (2001) — Steampunk vs magic RPG. Investigate airship crash in industrial world.',
        'Planescape: Torment (1999) — Philosophical RPG. The Nameless One seeks identity in multiverse planes.'
      ] },
      { id:'tactical-rpg', name:'Tactical RPG', desc:'Grid-based combat with deep strategy and unit management. These games blend RPG progression with turn-based battles and positioning.', games:[
        'Fire Emblem: Three Houses (2019) — School sim + tactical battles. Choose a house and lead students in war.',
        'XCOM 2 (2016) — Turn-based alien invasion strategy RPG. Manage resistance with permadeath soldiers.',
        'Divinity: Original Sin 2 (2017) — Isometric RPG with environmental combat. Co-op tactics in source-powered world.',
        'Triangle Strategy (2022) — Political narrative + grid combat. Voting system affects story branches.',
        'Final Fantasy Tactics (1997) — Job system tactical RPG. Ramza\'s rebellion in Ivalice wars.',
        'Tactics Ogre: Let Us Cling Together (1995) — Branching story tactical RPG. Choices shape Valerian conflict.',
        'Disgaea 5 (2015) — Over-the-top tactical RPG with levels to 9999. Netherworld conquest with prinnies.',
        'Banner Saga (2014) — Viking caravan tactical RPG. Decisions affect survival in frozen apocalypse.',
        'Valkyria Chronicles (2008) — WW2-inspired tactical RPG with canvas art. Squad commands in real-time hybrid.',
        'Into the Breach (2018) — Mech tactics with time travel. Puzzle-like positioning against Vek.',
        'Wargroove (2019) — Advance Wars-like with commanders. Fantasy campaigns and map editor.',
        'Fell Seal: Arbiter\'s Mark (2019) — Job-based tactical RPG. Customize units in Teora world.'
      ] }
    ],
    games: [
      'Skyrim (2011) — Open-world RPG defining player freedom in gaming. Explore Tamriel, join guilds, and slay dragons as the Dragonborn with mods extending life.',
      'Baldur\'s Gate 3 (2023) — Modern CRPG masterpiece with branching narratives. Based on D&D, it offers dice rolls, multiplayer, and mind flayer threats.',
      'The Witcher 3 (2015) — Cinematic storytelling in a living world. Geralt\'s monster hunting involves moral dilemmas and Gwent card game.',
      'Fallout 4 (2015) — Post-nuclear RPG with settlement building. Search for your son in the Commonwealth wasteland.',
      'Mass Effect Legendary Edition (2021) — Remastered trilogy of space opera RPG. Shepard\'s choices echo across games against Reapers.',
      'Dragon Age: Inquisition (2014) — Lead the Inquisition against sky breach. Romance companions and judge prisoners.',
      'Kingdoms of Amalur: Re-Reckoning (2020) — Action RPG with fate-weaving. Break destiny in Faelands with fluid combat.',
      'Elex (2017) — Sci-fi fantasy RPG with jetpacks. Choose factions in post-meteor world.',
      'GreedFall (2019) — Colonial RPG with diplomacy. Cure disease on Teer Fradee island.',
      'Outer Worlds (2019) — Corporate satire RPG. Explore Halcyon colony with companions and flaws system.'
    ]
  },
  {
    id: 'shooter',
    name: 'Shooter',
    desc: 'Games centered on ranged combat. Focus ranges from fast arena FPS to tactical military simulators to last-man-standing battle royales. Precision, reflexes, and strategy define the experience.',
    subgenres: [
      { id:'fps', name:'First-Person Shooter (FPS)', desc:'Player sees through character eyes, emphasis on reflexes and aiming. These games often feature campaign stories or multiplayer modes with weapons and maps.', games:[
        'Doom (1993) — The father of the modern FPS with fast-paced demon-slaying. Its level design and modding community influenced generations.',
        'Half-Life 2 (2004) — Revolutionary physics and narrative integration. Gordon Freeman fights the Combine with gravity gun and allies.',
        'Counter-Strike: Global Offensive (2012) — Competitive tactical shooter. Bomb defusal and hostage rescue with economy system.',
        'Call of Duty 4: Modern Warfare (2007) — Defined modern military shooters. Iconic missions like All Ghillied Up and multiplayer perks.',
        'Overwatch 2 (2022) — Hero-based team shooter with vibrant characters. Objective modes and abilities create dynamic matches.',
        'Quake III Arena (1999) — Pure arena FPS with rocket jumps. Multiplayer focused with bots and mods.',
        'BioShock Infinite (2013) — Floating city FPS with vigors. Booker and Elizabeth\'s story explores American exceptionalism.',
        'Titanfall 2 (2016) — Mech and pilot FPS with time travel level. Fluid movement and multiplayer titans.',
        'Wolfenstein: The New Order (2014) — Nazi-killing FPS with dual-wield. Alternate history with resistance fighters.',
        'Metro Exodus (2019) — Post-apoc FPS with survival elements. Artyom\'s journey across Russia on Aurora train.',
        'Halo Infinite (2021) — Open-world Halo with grappling hook. Master Chief battles Banished on Zeta Halo.',
        'Destiny 2: The Final Shape (2024) — Looter shooter expansion. Confront the Witness in the Traveler.'
      ] },
      { id:'tps', name:'Third-Person Shooter (TPS)', desc:'Camera outside the player; often combined with cover mechanics. These games allow better situational awareness and character visibility.', games:[
        'Gears of War (2006) — Introduced active reload and cover-based combat. Marcus Fenix fights Locust horde.',
        'The Division 2 (2019) — Looter-shooter with tactical squad play. Reclaim Washington DC from factions.',
        'Max Payne (2001) — Bullet-time slow-motion shooting pioneer. Noir story of revenge and conspiracy.',
        'Remnant 2 (2023) — Soulslike co-op shooter with procedural worlds. Archetypes and bosses across realms.',
        'Control (2019) — Supernatural shooter with telekinetic powers. Jesse explores the Oldest House.',
        'Uncharted 4 (2016) — Cinematic TPS with climbing. Nathan Drake\'s final treasure hunt.',
        'Resident Evil 4 Remake (2023) — Over-shoulder horror shooter. Leon rescues Ashley from parasites.',
        'Fortnite (2017) — Battle royale with building mechanics. Crossovers and zero-build modes.',
        'The Last of Us Part II (2020) — Narrative-driven TPS with crafting. Ellie\'s revenge in post-apoc world.',
        'Alan Wake 2 (2023) — Survival horror TPS with story weaving. Dual protagonists in Dark Place.',
        'Quantum Break (2016) — Time powers TPS with live-action episodes. Jack Joyce fixes time fracture.',
        'Ratchet & Clank: Rift Apart (2021) — Weapon variety TPS with dimensions. Lombax duo saves multiverse.'
      ] },
      { id:'br', name:'Battle Royale', desc:'Large player counts fight until one remains; often includes looting and shrinking zones. Survival and positioning are key to victory.', games:[
        'Fortnite (2017) — Cultural phenomenon with building and pop culture crossovers. Weekly events and creative mode expand it beyond BR.',
        'PUBG (2017) — The original battle royale with realistic gunplay. Vehicle chases and squad tactics on large maps.',
        'Apex Legends (2019) — Hero-based BR with fluid movement and pings. Legends\' abilities create team synergies.',
        'Warzone (2020) — CoD’s take on BR with large-scale battles. Loadouts and gulag for second chances.',
        'Fall Guys (2020) — Whimsical party-style battle royale. Obstacle courses and mini-games for crown.',
        'Tetris 99 (2019) — Puzzle BR with 99 players. Send garbage lines to opponents in real-time.',
        'Call of Duty: Blackout (2018) — First CoD BR with series perks. Map based on Black Ops locations.',
        'Realm Royale (2018) — Fantasy BR with classes and forging. Mounts and abilities add twists.',
        'Spellbreak (2020) — Magic-based BR with elemental spells. Combine gauntlets for combos.',
        'Naraka: Bladepoint (2021) — Melee-focused BR with grappling. Martial arts in ancient setting.',
        'Super Animal Royale (2018) — Cute animal BR with top-down view. Genetic mods and emotes.'
      ] },
      { id:'hero', name:'Hero Shooter', desc:'Objective-focused shooters with distinct heroes/abilities. Team composition and ability synergy are crucial for victory.', games:[
        'Overwatch (2016) — Team-based hero shooter with diverse roles. Push payloads and capture points with ultimates.',
        'Team Fortress 2 (2007) — Class-based multiplayer shooter with humor. Modes like king of the hill and hats economy.',
        'Valorant (2020) — Tactical hero shooter with precise gunplay. Plant spikes with agent utilities.',
        'Paladins (2018) — Free-to-play hero shooter with card-based loadouts. Fantasy champions in realm wars.',
        'Rainbow Six Siege (2015) — Operator-based tactical shooter. Destructible environments and gadgets.',
        'Apex Legends (2019) — BR hero shooter with legends. Pings and respawns for squad play.',
        'Battleborn (2016) — MOBA-like hero shooter with minions. Story missions and multiplayer modes.',
        'Quake Champions (2017) — Arena hero shooter with champions. Abilities in deathmatch style.',
        'LawBreakers (2017) — Low-grav hero shooter with roles. Vertical maps and anti-grav zones.',
        'Bleeding Edge (2020) — Melee hero brawler with cyberpunks. Team fights with mods.'
      ] },
      { id:'boomer', name:'Boomer Shooter', desc:'Retro-style fast-paced FPS inspired by 90s classics. These games emphasize movement, secrets, and over-the-top weapons.', games:[
        'DOOM Eternal (2020) — High-octane demon-slaying with glory kills. Resource management in arena fights.',
        'Ultrakill (2021) — Stylish, movement-heavy retro FPS. Coin tricks and blood fueling in hell layers.',
        'Dusk (2018) — Low-poly horror FPS with speed and style. Rural nightmares with shotguns and axes.',
        'Prodeus (2022) — Modern take on classic FPS aesthetics. Gore and community maps.',
        'Ion Fury (2019) — Build engine FPS with Shelly. Explosive action in cyberpunk city.',
        'Amid Evil (2019) — Heretic-like with soul weapons. Mystical realms and axe throwing.',
        'Hrot (2021) — Brown-palette FPS in communist Czechoslovakia. Weird enemies and beer powerups.',
        'Cultic (2022) — Survival horror boomer shooter. Dynamic music and cultist fights.',
        'Turbo Overkill (2023) — Cyberpunk boomer with chainsaw leg. High-speed kills and upgrades.',
        'Forgive Me Father (2021) — Comic book style boomer shooter. Lovecraftian madness meter.'
      ] },
      { id:'looter', name:'Looter Shooter', desc:'Shooters focused on grinding for randomized gear. These games blend shooting with RPG progression and co-op.', games:[
        'Borderlands 2 (2012) — Humor-filled looter shooter with billions of guns. Vault hunters fight Handsome Jack on Pandora.',
        'Destiny 2 (2017) — MMO-lite shooter with planetary exploration. Guardians wield light against darkness.',
        'Warframe (2013) — Free-to-play ninja space looter with fluid movement. Mod weapons and frames in origin system.',
        'The Division (2016) — Post-pandemic looter with dark zone PvP. Agents restore order in New York.',
        'Outriders (2021) — Class-based looter with altered powers. Colonize Enoch amid anomalies.',
        'Remnant: From the Ashes (2019) — Procedural looter with root bosses. Dimension-hopping survival.',
        'Deep Rock Galactic (2018) — Co-op dwarf looter miner. Horde defense while extracting resources.',
        'Tiny Tina\'s Wonderlands (2022) — Fantasy Borderlands spin-off. Tabletop-inspired with spells.',
        'Helldivers 2 (2024) — Co-op bug-squashing with stratagems. Spread democracy across planets.',
        'Risk of Rain 2 (2019) — Roguelite looter with item stacking. Survivor runs on Petrichor V.'
      ] }
    ],
    games: [
      'Half-Life (1998) — Pioneered storytelling in FPS genre. Gordon Freeman\'s Black Mesa incident with crowbar.',
      'BioShock (2007) — Immersive sim shooter with philosophical themes. Rapture\'s plasmids and Big Daddies.',
      'Doom (2016) — Reboot with fast combat and glory kills. Rip and tear demons on Mars.',
      'Half-Life: Alyx (2020) — VR FPS prequel with gravity gloves. Alyx Vance rescues her father.',
      'Portal 2 (2011) — Puzzle shooter with co-op. GLaDOS tests with portal gun mechanics.',
      'Titanfall 2 (2016) — Pilot and titan campaign. Time-shifting levels and BT friendship.',
      'Wolfenstein II: The New Colossus (2017) — Nazi-occupied America shooter. BJ Blazkowicz\'s revolution.',
      'Metro 2033 (2010) — Atmospheric post-apoc shooter. Artyom\'s journey through Moscow metro.',
      'Far Cry 3 (2012) — Open-world FPS with villain Vaas. Jason\'s island survival and rambo moments.',
      'Deus Ex: Mankind Divided (2016) — Cyberpunk FPS with augmentations. Adam Jensen in Prague.'
    ]
  },
  {
    id: 'strategy',
    name: 'Strategy',
    desc: 'Emphasis on planning, economy, and tactical/strategic decisions. Play ranges from real-time to turn-based, building empires or commanding armies.',
    subgenres: [
      { id:'rts', name:'RTS', desc:'Real-time strategy with base-building and unit control. Manage resources and armies in fast-paced conflicts.', games:[
        'StarCraft II (2010) — The pinnacle of competitive RTS esports. Terran, Zerg, Protoss campaigns and multiplayer.',
        'Age of Empires II (1999) — Historical RTS with deep campaign modes. Civilizations from dark ages to imperial.',
        'Command & Conquer: Red Alert 2 (2000) — Campy Cold War RTS. Allied vs Soviet with psychic units.',
        'Warcraft III (2002) — RTS with hero units and custom maps. Led to Dota and World of Warcraft lore.',
        'Company of Heroes (2006) — WWII RTS with destructible environments. Squad tactics and territory control.',
        'Homeworld (1999) — 3D space RTS with fleet persistence. Epic journey to reclaim home planet.',
        'Supreme Commander (2007) — Massive scale RTS with experimental units. Zoom from strategic to tactical view.',
        'Dawn of War (2004) — Warhammer 40k RTS with squad reinforcements. Faction campaigns in grimdark universe.',
        'Age of Mythology (2002) — Mythical RTS with god powers. Greek, Egyptian, Norse civilizations.',
        'Command & Conquer 3 (2007) — Tiberium wars RTS. GDI vs Nod with alien Scrin.',
        'Stronghold Crusader (2002) — Castle building RTS with sieges. Crusades economy and defenses.',
        'Northgard (2018) — Viking RTS with survival elements. Clan management against winters and myths.'
      ] },
      { id:'tbs', name:'Turn-Based Strategy', desc:'Turn-based play, often more methodical and party-based. Plan moves without time pressure.', games:[
        'Civilization VI (2016) — Turn-based empire building across ages. Leaders with unique abilities and victory paths.',
        'XCOM 2 (2016) — Tactical alien resistance with permadeath. Base management and soldier customization.',
        'Heroes of Might & Magic III (1999) — Fantasy turn-based strategy classic. Castle building and hero exploration.',
        'Into the Breach (2018) — Puzzle-like mech strategy with time travel. Protect cities from Vek insects.',
        'Sid Meier\'s Civilization V (2010) — Hex-based empire builder. Social policies and city-states diplomacy.',
        'Endless Legend (2014) — Fantasy 4X with asymmetric factions. Seasonal winters and quest narratives.',
        'Battle for Wesnoth (2003) — Open-source turn-based tactics. Hex battles with unit recall.',
        'Jagged Alliance 2 (1999) — Mercenary tactics with RPG elements. Liberate Arulco sector by sector.',
        'Panzer General (1994) — WW2 hex-based wargame. Campaign across theaters with unit experience.',
        'Invisible, Inc. (2015) — Stealth tactics with cyberpunk spies. Procedural missions and alarm levels.',
        'Slay the Spire (2019) — Deckbuilding turn-based rogue-lite. Ascend the spire with card relics.',
        'Gloomhaven (2021) — Digital adaptation of board game. Mercenary quests with card combat.'
      ] },
      { id:'4x', name:'4X', desc:'Explore, Expand, Exploit, Exterminate — grand strategy and empire-building. Long-term planning across large scales.', games:[
        'Civilization VI (2016) — The 4X genre benchmark. From stone age to space with multiple victories.',
        'Stellaris (2016) — Space 4X with emergent storytelling. Custom empires and galactic crises.',
        'Endless Legend (2014) — Fantasy 4X with unique factions. Aura management and broken ones lore.',
        'Old World (2021) — Historical 4X with family dynasty mechanics. Orders system and events.',
        'Sid Meier\'s Alpha Centauri (1999) — Sci-fi 4X on alien planet. Faction ideologies and mind worms.',
        'Master of Orion 2 (1996) — Classic space 4X with race design. Ship building and antaran threats.',
        'Amplitude\'s Endless Space 2 (2017) — Beautiful space 4X with population politics. Hero academy and behemoths.',
        'Galactic Civilizations III (2015) — AI-heavy space 4X. Ideology trees and starbases.',
        'Humankind (2021) — Culture-mixing 4X through eras. Fame victory and historical events.',
        'Age of Wonders 4 (2023) — Fantasy 4X with realm creation. Magic tomes and hero transformations.',
        'Distant Worlds 2 (2022) — Automated space 4X with deep simulation. Private economy and piracy.'
      ] },
      { id:'moba', name:'MOBA', desc:'Team-based lanes, character progression within a match. Destroy enemy base while defending yours.', games:[
        'League of Legends (2009) — The most popular competitive MOBA. 160+ champions on Summoner\'s Rift.',
        'Dota 2 (2013) — Complex MOBA with high skill ceiling. All heroes free and item builds.',
        'Smite (2014) — Third-person MOBA with gods from mythology. Ability aiming in arena maps.',
        'Heroes of the Storm (2015) — Blizzard’s streamlined MOBA. Talent system and shared XP.',
        'Vainglory (2014) — Mobile MOBA with touch controls. 3v3 or 5v5 on Halcyon Fold.',
        'Battletech (2018) — Mech MOBA-like with lances. Heat management and armor locations.',
        'Arena of Valor (2016) — Mobile MOBA with DC heroes. Short matches and joystick controls.',
        'Mobile Legends (2016) — Popular mobile MOBA. Emblem system and ranked play.',
        'Paragon: The Overprime (2022) — Revived third-person MOBA. Verticality and prime objective.',
        'Pokemon Unite (2021) — Pokemon MOBA with scoring. Evolve during matches on Aeos Island.'
      ] },
      { id:'grand', name:'Grand Strategy', desc:'Nation-level strategy over centuries with diplomacy and war. Simulate history with complex systems.', games:[
        'Crusader Kings III (2020) — Medieval dynasty simulator with intrigue. Marriages, wars, and events shape legacies.',
        'Europa Universalis IV (2013) — Historical nation management. Colonize, trade, and reform from 1444 to 1821.',
        'Hearts of Iron IV (2016) — WWII grand strategy with supply lines. Industrial production and division templates.',
        'Victoria 3 (2022) — Industrial-era economy and politics simulator. Laws, interest groups, and colonization.',
        'Imperator: Rome (2019) — Ancient world grand strategy. Pop management and senate politics.',
        'Stellaris (2016) — Space grand strategy with empires. Mid-game crises and endgame threats.',
        'Crusader Kings II (2012) — Predecessor with deep DLC. From count to emperor through schemes.',
        'Europa Universalis III (2007) — Earlier entry with dynamic history. National ideas and missionaries.',
        'Victoria II (2010) — Victorian age with pops. Industrialization and great powers diplomacy.',
        'Hearts of Iron III (2009) — Complex WWII with OOB. Theater commands and espionage.'
      ] },
      { id:'tower', name:'Tower Defense', desc:'Build defenses to stop waves of enemies. Place towers strategically along paths.', games:[
        'Bloons TD 6 (2018) — Addictive monkey-based tower defense. Co-op and hero monkeys against bloons.',
        'Plants vs. Zombies (2009) — Casual tower defense with charm. Garden plants fend off zombie waves.',
        'Dungeon Defenders (2011) — Action tower defense with RPG elements. Hero abilities and loot.',
        'Kingdom Rush (2011) — Fantasy TD with heroes. Upgrade towers against orc hordes.',
        'Orcs Must Die! 2 (2012) — Trap-based TD with co-op. Physics traps and war mage spells.',
        'Defense Grid (2008) — Sci-fi TD with tower types. Alien invasions on grid maps.',
        'GemCraft (2008) — Gem-combining TD with mana. Socket gems for effects against monsters.',
        'Sanctum 2 (2013) — FPS hybrid TD. Build mazes and shoot invaders.',
        'They Are Billions (2017) — Steampunk zombie TD with building. Survive infection waves.',
        'Infinitrap (2020) — Rogue-like TD with traps. Procedural dungeons and upgrades.'
      ] }
    ],
    games: [
      'Total War: Warhammer III (2022) — Combines grand strategy with real-time battles. Immortal Empires map with daemons.',
      'Crusader Kings III (2020) — Medieval life sim with deep political intrigue. Roleplay as rulers through generations.',
      'Civilization V (2010) — One more turn addiction in 4X. Brave New World expansion adds culture victory.',
      'StarCraft (1998) — Balanced RTS classic. Three races in Koprulu sector story.',
      'XCOM: Enemy Unknown (2012) — Alien invasion tactics. Base building and soldier permadeath.',
      'Age of Empires IV (2021) — Modernized historical RTS. Asymmetric civs and campaigns.',
      'Frostpunk (2018) — Survival city-builder strategy. Moral choices in frozen apocalypse.',
      'They Are Billions (2019) — Zombie horde RTS. Build colonies against billions.',
      'Factorio (2020) — Automation strategy with biters. Build factories on alien planet.',
      'RimWorld (2018) — Colony sim strategy with stories. Manage survivors\' moods and raids.'
    ]
  },
  {
    id: 'adventure',
    name: 'Adventure',
    desc: 'Player-driven exploration and narrative, puzzles and environmental storytelling are common. Immerse in worlds with mysteries to unravel.',
    subgenres: [
      { id:'pointclick', name:'Point & Click', desc:'Puzzle- and dialogue-driven adventures with inventory mechanics. Click to interact with environments and solve riddles.', games:[
        'The Secret of Monkey Island (1990) — Comedy adventure classic. Guybrush Threepwood\'s pirate aspirations with insults and grog.',
        'Grim Fandango (1998) — Noir adventure in the Land of the Dead. Manny Calavera\'s soul sales and corruption.',
        'Broken Sword (1996) — Hand-drawn adventure with global mystery. George and Nico uncover Templar secrets.',
        'Thimbleweed Park (2017) — Retro-style adventure by Ron Gilbert. Murder investigation in quirky town.',
        'Return to Monkey Island (2022) — Long-awaited sequel with modern twists. Guybrush\'s continued pirate antics.',
        'Day of the Tentacle (1993) — Time-travel puzzle comedy. Stop Purple Tentacle\'s world domination.',
        'Sam & Max Hit the Road (1993) — Freelance police adventure. Road trip to find bigfoot.',
        'Full Throttle (1995) — Biker adventure with action. Ben Throttle\'s frame-up and motorcycle gangs.',
        'Myst (1993) — Surreal puzzle adventure with books. Link to ages and solve brothers\' rivalry.',
        'The Longest Journey (1999) — Parallel worlds adventure. April Ryan balances Stark and Arcadia.',
        'Syberia (2002) — Automaton quest in Europe. Kate Walker searches for Hans Voralberg.',
        'Deponia (2012) — Trash planet comedy adventure. Rufus\' escape attempts with Goal.'
      ] },
      { id:'walking', name:'Walking Simulator', desc:'Exploration-heavy narrative experiences with minimal mechanics. Walk through environments to uncover stories.', games:[
        'Firewatch (2016) — Emotional story in Wyoming wilderness. Henry\'s fire lookout job and mystery.',
        'What Remains of Edith Finch (2017) — Anthology of family stories. Explore cursed house as Edith.',
        'Gone Home (2013) — Pioneered the narrative exploration genre. Discover family secrets in empty house.',
        'Dear Esther (2012) — Poetic walking sim with ambient storytelling. Island traversal with letters.',
        'The Stanley Parable (2013) — Meta narrative on choice. Office worker defies narrator.',
        'Everybody\'s Gone to the Rapture (2015) — Apocalypse in English village. Uncover residents\' fates.',
        'Tacoma (2017) — Space station exploration with AR logs. Crew drama on lunar transfer.',
        'The Beginner\'s Guide (2015) — Personal tour of game worlds. Creator\'s emotional journey.',
        'Proteus (2013) — Procedural island with musical interactions. Seasons cycle in pixel art.',
        'Year Walk (2013) — Swedish folklore walking sim. Vision quest with mythical creatures.'
      ] },
      { id:'survival', name:'Survival', desc:'Resource management and environmental threats. Gather, craft, and endure in hostile worlds.', games:[
        'Subnautica (2018) — Underwater survival with alien mysteries. Build bases and explore ocean depths.',
        'The Long Dark (2017) — Cold wilderness survival simulation. Manage hypothermia and wildlife in Canada.',
        'Don\'t Starve (2013) — Stylized survival with Tim Burton aesthetic. Science and magic machines against night.',
        'Rust (2013) — Multiplayer survival with base-building and PvP. Raid and ally in naked start.',
        'Minecraft (2011) — Block-based survival with crafting. Build shelters against creepers.',
        'Valheim (2021) — Viking survival with boss progression. Sail and build in procedurally generated realms.',
        'The Forest (2014) — Cannibal island survival with son search. Cave exploration and defenses.',
        'Ark: Survival Evolved (2015) — Dinosaur taming survival. Tribe building on prehistoric island.',
        '7 Days to Die (2013) — Zombie survival with voxel building. Horde nights and looting.',
        'Stranded Deep (2015) — Ocean survival after plane crash. Shark fights and island hopping.',
        'Green Hell (2019) — Amazon rainforest survival with sanity. Hallucinations and tribal encounters.',
        'Raft (2018) — Ocean raft building survival. Expand against sharks and scavenge debris.'
      ] },
      { id:'narrative', name:'Narrative Adventure', desc:'Story-focused games with light interactivity. Choices or exploration drive the plot forward.', games:[
        'Life is Strange (2015) — Time-rewind emotional drama. Max\'s visions and friendship with Chloe.',
        'The Walking Dead (2012) — Choice-driven zombie apocalypse story. Protect Clementine as Lee.',
        'Detroit: Become Human (2018) — Branching sci-fi narrative. Android revolution through three perspectives.',
        'Oxenfree (2016) — Supernatural teen dialogue adventure. Radio tuning and time loops on island.',
        'TellTale\'s The Wolf Among Us (2013) — Fabletown detective story. Bigby Wolf investigates murders.',
        'Firewatch (2016) — Radio conversation narrative. Wyoming lookout\'s summer mystery.',
        'What Remains of Edith Finch (2017) — Family tale vignettes. Magical realism deaths.',
        'A Way Out (2018) — Co-op prison escape story. Leo and Vincent\'s partnership.',
        'Beyond: Two Souls (2013) — Entity-linked life story. Jodie\'s choices with Aiden.',
        'Heavy Rain (2010) — Origami killer thriller. Four characters\' intersecting paths.',
        'Until Dawn (2015) — Horror movie interactive. Butterfly effect on teen survival.'
      ] },
      { id:'text', name:'Text Adventure', desc:'Interactive fiction driven by parser or choice-based input. Describe actions to progress the story.', games:[
        'Zork (1980) — Classic text adventure with witty parser. Explore Great Underground Empire.',
        '80 Days (2014) — Steampunk interactive fiction around the world. Manage time and routes as Passepartout.',
        'Sorcery! (2013) — Choice-based fantasy epic with map travel. Steve Jackson\'s gamebook adaptation.',
        'Lifeline (2015) — Real-time text with astronaut. Make choices via notifications.',
        'Device 6 (2013) — Puzzle text adventure with rotation. Island mystery with maps.',
        'Anchorhead (1998) — Lovecraftian text horror. Investigate husband\'s inheritance town.',
        'Spider and Web (1998) — Interrogation-based spy story. Recall events with twists.',
        'Photopia (1998) — Non-linear narrative text. Color-coded stories intersect.',
        'Slouching Towards Bedlam (2003) — Steampunk virus mystery. Victorian asylum exploration.',
        'Counterfeit Monkey (2012) — Wordplay text with letter remover. Escape island dictatorship.'
      ] }
    ],
    games: [
      'Tomb Raider (2013) — Rebooted cinematic action-adventure. Lara Croft\'s origin on Yamatai island.',
      'The Walking Dead: Season 1 (2012) — Emotional choice-driven storytelling. Clementine\'s survival in zombie world.',
      'Uncharted 2: Among Thieves (2009) — Treasure hunt with train sequence. Drake in Himalayas for Shambhala.',
      'The Legend of Zelda: Breath of the Wild (2017) — Open-world adventure with physics. Link awakens to save Hyrule.',
      'Assassin\'s Creed Odyssey (2018) — Greek RPG adventure. Kassandra\'s family quest with cults.',
      'God of War (2018) — Norse mythology adventure. Kratos and Atreus\' journey to scatter ashes.',
      'Red Dead Redemption 2 (2018) — Western outlaw adventure. Arthur Morgan\'s gang life.',
      'Horizon Zero Dawn (2017) — Robo-dinosaur hunting adventure. Aloy\'s origins in post-apoc world.',
      'Control (2019) — Paranormal bureau adventure. Jesse\'s director role with shifting house.',
      'Alan Wake (2010) — Thriller writer adventure. Combat darkness with light in Bright Falls.'
    ]
  },
  {
    id: 'platformer',
    name: 'Platformer',
    desc: 'Games with jumping/precision movement; range from classic 2D to 3D platformers. Collect items, avoid hazards, and reach goals.',
    subgenres: [
      { id:'metroidvania', name:'Metroidvania', desc:'Exploration-focused platformers with ability-based progression. Backtrack with new powers to access areas.', games:[
        'Hollow Knight (2017) — Dark, vast world with challenging combat. The Knight explores Hallownest\'s secrets.',
        'Ori and the Will of the Wisps (2020) — Emotional platformer with fluid movement. Spirit guardian saves the forest.',
        'Castlevania: Symphony of the Night (1997) — Genre-defining classic. Alucard\'s castle inversion and RPG elements.',
        'Blasphemous (2019) — Gothic pixel art with brutal difficulty. Penitent One\'s pilgrimage in Cvstodia.',
        'Axiom Verge (2015) — Sci-fi Metroidvania with glitch powers. Trace explores alien machine world.',
        'Bloodstained: Ritual of the Night (2019) — Spiritual Castlevania successor. Shardbinder Miriam vs demons.',
        'Guacamelee! (2013) — Luchador Metroidvania with dimension switch. Juan saves Mexiverse.',
        'SteamWorld Dig 2 (2017) — Mining Metroidvania with upgrades. Dorothy searches for Rusty.',
        'The Messenger (2018) — Ninja Metroidvania with time travel. 8-bit to 16-bit shift.',
        'Salt and Sanctuary (2016) — 2D Soulslike Metroidvania. Shipwrecked on cursed island.',
        'Timespinner (2018) — Time-stop Metroidvania. Lunais avenges clan in Lachiem.',
        'Blaster Master Zero (2017) — Retro remake with top-down. Jason and Eve vs mutants.'
      ] },
      { id:'2d', name:'2D Platformer', desc:'Classic side-scrolling action and precision. Jump across platforms with power-ups and enemies.', games:[
        'Celeste (2018) — Precision platformer with mental health themes. Madeline climbs mountain with dash.',
        'Super Meat Boy (2010) — Brutally hard platforming with tight controls. Rescue Bandage Girl from Dr. Fetus.',
        'Shovel Knight (2014) — Retro-style with modern design. Shovel pogo and order of no quarter.',
        'Cuphead (2017) — Run-and-gun with 1930s cartoon art. Boss rushes and parry slaps.',
        'Rayman Legends (2013) — Musical levels with co-op. Rescue teensies in painted worlds.',
        'Donkey Kong Country 2 (1995) — Animal buddy platformer. Diddy and Dixie vs Kaptain K. Rool.',
        'Sonic Mania (2017) — Classic Sonic with new zones. Tributes to genesis era.',
        'Mega Man X (1993) — Dash and wall-jump platformer. Maverick hunters with armor upgrades.',
        'Braid (2008) — Time-manipulation puzzle platformer. Tim\'s search for princess.',
        'Ori and the Blind Forest (2015) — Metroid-like with bash mechanic. Restore Nibel forest.',
        'Super Mario World (1990) — Cape flying and Yoshi. Dinosaur land adventure.',
        'Inside (2016) — Dystopian puzzle platformer. Boy\'s infiltration with mind control.'
      ] },
      { id:'3d', name:'3D Platformer', desc:'Larger environments and more open movement. Collect stars or items in hub worlds.', games:[
        'Super Mario 64 (1996) — Pioneered 3D platforming movement. Peach\'s castle hub with stars.',
        'Banjo-Kazooie (1998) — Collectathon with humor and charm. Jiggy hunt against Gruntilda.',
        'Crash Bandicoot (1996) — Linear 3D platforming with attitude. Stop Cortex with spins and crates.',
        'Spyro the Dragon (1998) — Open 3D worlds with dragon flight. Rescue elders from gnasty gnorc.',
        'A Hat in Time (2017) — Spiritual successor to N64 classics. Hat kid\'s time piece collection.',
        'Super Mario Odyssey (2017) — Cap possession platformer. Moon hunt across kingdoms.',
        'Psychonauts (2005) — Mind-entering platformer. Raz at psychic camp.',
        'Ratchet & Clank (2002) — Weapon platformer with bolts. Galactic adventure against Drek.',
        'Jak and Daxter (2001) — Eco-powered platformer. Precursor orbs in seamless world.',
        'Yooka-Laylee (2017) — Banjo spiritual successor. Pagie collection in books.',
        'Crash Bandicoot 4 (2020) — Quantum masks platformer. Multiverse saving with new moves.',
        'Sonic Frontiers (2022) — Open-zone platformer. Cyberspace stages on starfall islands.'
      ] },
      { id:'precision', name:'Precision Platformer', desc:'Extremely challenging platforming with pixel-perfect jumps. Test reflexes and patience.', games:[
        'N++ (2015) — Minimalist ninja platformer with thousands of levels. Co-op and level editor.',
        'VVVVVV (2010) — Gravity-flipping retro platformer. Rescue crew in dimension VVVVVV.',
        'I Wanna Be the Guy (2007) — Notoriously difficult parody platformer. Kid vs deadly screens.',
        'Super Meat Boy Forever (2020) — Auto-runner sequel. Punch and dash through levels.',
        'The End Is Nigh (2017) — Post-apoc precision with Ash. Collect tumors and cartridges.',
        'Dustforce (2012) — Cleaning acrobatics platformer. Sweep dust with momentum.',
        'Geometry Dash (2013) — Rhythm precision with icons. User levels and demons.',
        'Boson X (2013) — Particle accelerator runner. Jump gaps at increasing speeds.',
        '10 Second Ninja (2014) — Short burst precision. Clear robots in 10 seconds.',
        'Electronic Super Joy (2013) — Groove city platformer with butts. Laser dodging and stomps.'
      ] }
    ],
    games: [
      'Mega Man 2 (1988) — Iconic NES action-platformer. Eight robot masters with weapons.',
      'Rayman Legends (2013) — Fluid, musical platforming adventure. Co-op rescues and daily challenges.',
      'Super Mario Bros. 3 (1988) — Power-up suits and world map. Bowser\'s koopa kids invasion.',
      'Sonic the Hedgehog 2 (1992) — Emerald hunting with Tails. Zones like chemical plant.',
      'Donkey Kong Country (1994) — Pre-rendered graphics platformer. Kremling treasure theft.',
      'Crash Bandicoot: Warped (1998) — Time-travel levels with vehicles. Cortex and Uka Uka.',
      'Celeste Classic (2015) — Pico-8 original with dash. Mountain climb prototype.',
      'Ori and the Will of the Wisps (2020) — Metroidvania sequel with shards. Owl rescue quest.',
      'Hollow Knight: Silksong (TBA) — Hornet\'s adventure in Pharloom. Silk soul mechanics.',
      'It Takes Two (2021) — Co-op only platformer. Couple shrinks and fixes relationship.'
    ]
  },
  {
    id: 'fighting',
    name: 'Fighting',
    desc: 'One-on-one or team combat with combos, frames, and inputs. Focus on skill and matchup knowledge in intense duels.',
    subgenres: [
      { id:'2d-fighter', name:'2D Fighting', desc:'Traditional arena fighters with 2D plane combat. Master specials and supers against foes.', games:[
        'Street Fighter II (1991) — The fighting game that started it all. Hadouken and world warriors.',
        'Mortal Kombat 11 (2019) — Gory fighter with cinematic story mode. Fatalities and custom variations.',
        'Guilty Gear Strive (2021) — Anime fighter with heavy metal aesthetic. Wall breaks and roman cancels.',
        'The King of Fighters XV (2022) — Team-based 2D fighter with legacy. 3v3 with max mode.',
        'BlazBlue: Central Fiction (2016) — Story-heavy anime fighter. Drive attacks and astral heats.',
        'Street Fighter 6 (2023) — Modern controls fighter. World tour mode and drive system.',
        'Samurai Shodown (2019) — Weapon-based fighter with rage. One-hit kills in Edo Japan.',
        'Dragon Ball FighterZ (2018) — 3v3 anime fighter with supers. Dramatic finishes from series.',
        'Under Night In-Birth (2012) — Airdasher with GRD system. Nighttime hollow battles.',
        'Skullgirls (2012) — Hand-drawn fighter with ratios. Assist custom and infinite prevention.',
        'Melty Blood: Type Lumina (2021) — Tsukihime fighter with moon drives. Rapid beat combos.',
        'Persona 4 Arena Ultimax (2013) — RPG crossover fighter. Instant kills and shadow types.'
      ] },
      { id:'3d-fighter', name:'3D Fighting', desc:'Combat with full 3D movement and arenas. Sidestep and ring outs add depth.', games:[
        'Tekken 8 (2024) — 3D fighter with deep mechanics and heat system. Mishima saga continues.',
        'Soulcalibur VI (2018) — Weapon-based 3D fighter with guest characters. Reversal edge clashes.',
        'Virtua Fighter 5 (2006) — Technical 3D fighter with realistic animation. Frame advantage focus.',
        'Dead or Alive 6 (2019) — Counter-heavy 3D fighter with dynamic stages. Hold system and break blows.',
        'Tekken 7 (2015) — Guest characters like Akuma. Rage arts and screw attacks.',
        'Soulcalibur II (2002) — Iconic weapon fighter with Link guest. Conquest mode and soul edge.',
        'Dead or Alive 5 (2012) — Triangle system fighter with environments. Power blows and cliffs.',
        'Virtua Fighter 4 (2001) — AI learning fighter. Quest mode in arcades.',
        'Bloody Roar 3 (2000) — Beast transform fighter. Hyper beast mode combos.',
        'Def Jam: Fight for NY (2004) — Rap star brawler. Venue blazin\' moves.',
        'Pokken Tournament (2015) — Pokemon 3D fighter. Phase shifts between field and duel.'
      ] },
      { id:'smash', name:'Platform Fighter', desc:'Party-style fighters with items and stage hazards. Knock opponents off the arena.', games:[
        'Super Smash Bros. Ultimate (2018) — Everyone is here — massive roster. World of light adventure.',
        'Brawlhalla (2017) — Free-to-play platform fighter with crossovers. Legends with sig attacks.',
        'Rivals of Aether (2017) — Indie platform fighter with elemental characters. Workshop custom fighters.',
        'MultiVersus (2022) — Warner Bros crossover fighter. 2v2 focus with perks.',
        'Slap City (2018) — Absurd platform fighter with fish. Charge cancels and clutches.',
        'Nickelodeon All-Star Brawl (2021) — Cartoon crossover with wavedash. Rollback netcode update.',
        'PlayStation All-Stars Battle Royale (2012) — Sony mascot fighter. Super level kills.',
        'Rushdown Revolt (2021) — Spark system platform fighter. Voltage meter combos.',
        'Icons: Combat Arena (2018) — Hero-based platform fighter. Inspired by Overwatch.',
        'Super Smash Bros. Melee (2001) — Competitive classic with techs. Wavedash and L-cancel.'
      ] }
    ],
    games: [
      'Super Smash Bros. Ultimate (2018) — The ultimate crossover fighting game. Spirits and classic mode.',
      'King of Fighters \'98 (1998) — Dream match of classic characters. Advanced and extra modes.',
      'Street Fighter Alpha 3 (1998) — ISM system fighter. World tour progression.',
      'Mortal Kombat (2011) — Reboot with x-ray moves. Story mode through tournaments.',
      'Injustice 2 (2017) — DC comics fighter with gear. Multiverse modes and endings.',
      'Tekken Tag Tournament 2 (2011) — Tag team fighter with pairs. Combot customization.',
      'Ultimate Marvel vs. Capcom 3 (2011) — 3v3 crossover with x-factor. Heroes and heralds mode.',
      'Killer Instinct (2013) — Combo breaker fighter with instinct. Shadow lords campaign.',
      'BlazBlue Cross Tag Battle (2018) — Multi-franchise 2v2 fighter. Tactics mode tutorials.',
      'Granblue Fantasy Versus (2020) — RPG fighter with skybound arts. RPG mode story.'
    ]
  },
  {
    id: 'sim',
    name: 'Simulation',
    desc: 'Games that simulate real-world activities or systems, from flight to social sims. Immerse in roles and manage complex interactions.',
    subgenres: [
      { id:'flight', name:'Flight Sim', desc:'Realistic aircraft and flight systems. Pilot planes with accurate physics and weather.', games:[
        'Microsoft Flight Simulator (2020) — Photorealistic Earth with real weather. Fly anywhere with live traffic.',
        'X-Plane 12 (2023) — Highly accurate flight physics and systems. Custom aircraft and scenery.',
        'DCS World (2008) — Military combat flight simulator with modules. Detailed cockpits and weapons.',
        'IL-2 Sturmovik (2001) — WWII flight combat with historical accuracy. Damage models and campaigns.',
        'Aerofly FS 4 (2022) — Smooth performance flight sim. VR support and global scenery.',
        'FlightGear (1997) — Open-source flight sim with community addons. Multiplatform and free.',
        'Prepar3D (2010) — Professional training sim based on FSX. Used by pilots and ATC.',
        'Falcon BMS (2012) — F-16 focused combat sim. Dynamic campaigns and multiplayer.',
        'Infinite Flight (2011) — Mobile flight sim with live multiplayer. Global HD scenery.',
        'Ace Combat 7 (2019) — Arcade flight with story. Dogfights in Strangereal world.'
      ] },
      { id:'life', name:'Life Sim', desc:'Social systems, routines, and emergent stories. Control characters\' daily lives and relationships.', games:[
        'The Sims 4 (2014) — Life simulation with endless customization. Build mode and expansions add depth.',
        'Stardew Valley (2016) — Farming sim with relationships and secrets. Inherit grandpa\'s farm in Pelican Town.',
        'Animal Crossing: New Horizons (2020) — Relaxed island life sim. Customize paradise with villagers.',
        'Two Point Hospital (2018) — Humorous hospital management sim. Cure bizarre illnesses.',
        'The Sims 3 (2009) — Open neighborhood life sim. Traits and wishes system.',
        'BitLife (2018) — Text-based life sim with choices. From birth to death decisions.',
        'My Time at Portia (2019) — Post-apoc crafting life sim. Workshop building and dating.',
        'Coral Island (2022) — Tropical farming sim with diving. Restore coral reefs.',
        'Dinkum (2022) — Aussie outback life sim. Town building with critters.',
        'Spiritfarer (2020) — Death-positive management sim. Ferry spirits and craft boat.',
        'Cozy Grove (2021) — Ghost bear camping sim. Daily quests on haunted island.'
      ] },
      { id:'racing', name:'Racing', desc:'Vehicle control and competition. From realistic sims to arcade fun with power-ups.', games:[
        'Forza Horizon 5 (2021) — Open-world arcade racing in Mexico. Festivals and car collecting.',
        'Gran Turismo 7 (2022) — Realistic racing with car culture focus. GT Cafe and tuning.',
        'Mario Kart 8 Deluxe (2017) — Fun, chaotic kart racing with items. Anti-grav and DLC tracks.',
        'F1 24 (2024) — Official Formula 1 racing simulation. Career mode with driver ratings.',
        'Assetto Corsa Competizione (2019) — GT racing sim with weather. Official Blancpain series.',
        'Need for Speed Unbound (2022) — Street racing with anime effects. Risk-reward bets.',
        'Burnout Paradise (2008) — Open-world crash racing. Showtime mode and takedowns.',
        'iRacing (2008) — Online racing sim with laserscanned tracks. Competitive leagues.',
        'Dirt Rally 2.0 (2019) — Off-road rally sim with stages. Co-driver calls and damage.',
        'The Crew Motorfest (2023) — Festival racing in Hawaii. Playlists and vehicle types.',
        'Wreckfest (2014) — Demolition derby racing with soft-body. Banger races and minigames.'
      ] },
      { id:'management', name:'Management Sim', desc:'Run businesses, cities, or teams with systems and growth. Balance budgets and expansions.', games:[
        'Cities: Skylines (2015) — Deep city-building with traffic simulation. Mods expand possibilities.',
        'Planet Zoo (2019) — Zoo management with animal welfare. Habitat design and breeding.',
        'Football Manager 2024 (2023) — The ultimate soccer management sim. Tactics and transfers.',
        'RollerCoaster Tycoon (1999) — Classic theme park tycoon. Ride design and guest happiness.',
        'Two Point Campus (2022) — University management with courses. Student needs and events.',
        'Jurassic World Evolution 2 (2021) — Dino park builder with chaos theory. Enclosure design and storms.',
        'Tropico 6 (2019) — Dictator sim with eras. Build economy and suppress rebels.',
        'Prison Architect (2015) — Jail management with riots. Inmate needs and escapes.',
        'Planet Coaster (2016) — Theme park sim with piece-by-piece. Guest thoughts and scenery.',
        'Stardew Valley Expanded (mod) — Farm management with more content. Community center bundles.',
        'Transport Fever 2 (2019) — Logistics management from 1850. Trains, planes, and supply chains.'
      ] },
      { id:'vehicle', name:'Vehicle Sim', desc:'Operate trains, trucks, or spaceships with realism. Focus on controls and routes.', games:[
        'Euro Truck Simulator 2 (2012) — Relaxing long-haul trucking. Deliver cargo across Europe with radio.',
        'Farming Simulator 22 (2021) — Agricultural machinery simulation. Crop cycles and animal husbandry.',
        'Train Sim World 4 (2023) — Realistic train driving experience. Routes and scenarios worldwide.',
        'American Truck Simulator (2016) — US trucking with state DLCs. Iconic trucks and highways.',
        'Derail Valley (2019) — VR-compatible train sim with physics. Freight hauling and derailments.',
        'Bus Simulator 21 (2021) — Public transport management. Routes and passenger satisfaction.',
        'SnowRunner (2020) — Off-road vehicle sim with mud. Cargo missions in extreme terrains.',
        'Microsoft Flight Simulator (2020) — As above, but vehicle focus on planes.',
        'BeamNG.drive (2013) — Soft-body physics driving sim. Crashes and custom scenarios.',
        'My Summer Car (2016) — Finnish car building sim. Engine assembly and sauna.',
        'Jalopy (2016) — Road trip sim with car maintenance. Drive through Eastern Europe.'
      ] }
    ],
    games: [
      'Kerbal Space Program (2015) — Build and fly rockets with real physics. Orbital mechanics and crashes.',
      'Euro Truck Simulator 2 (2012) — Zen-like trucking across Europe. Customize rigs and companies.',
      'The Sims 2 (2004) — Life sim with generations. Aspirations and wants system.',
      'Cities: Skylines II (2023) — Next-gen city builder with simulations. Traffic AI and zoning.',
      'Planet Coaster (2016) — Detailed park sim with coasters. Guest AI and management.',
      'No Man\'s Sky (2016) — Space exploration sim with procedurals. Base building and expeditions.',
      'Factorio (2020) — Factory automation sim. Belt logistics and train networks.',
      'Oxygen Not Included (2017) — Colony sim with gases. Duplicant management in asteroid.',
      'RimWorld (2018) — Story generator sim. Pawn moods and caravans.',
      'House Flipper (2018) — Renovation sim with tools. Buy, clean, sell houses.'
    ]
  },
  {
    id: 'puzzle',
    name: 'Puzzle',
    desc: 'Problem-solving and logic-based challenges, often with high design variety. Twist your mind with clever mechanics.',
    subgenres: [
      { id:'match3', name:'Match-3 / Casual', desc:'Tile-matching mechanics and progression. Swap gems for combos and levels.', games:[
        'Candy Crush Saga (2012) — The king of mobile match-3 games. Levels with boosters and lives.',
        'Bejeweled 3 (2010) — Classic gem-matching with multiple modes. Zen and lightning variants.',
        'Puzzle Quest (2007) — Match-3 meets RPG combat. Spell casting through gems.',
        'Puzzledorf (2021) — Sokoban-inspired block puzzles. Push to color match.',
        'Marvel Puzzle Quest (2013) — Superhero match-3 with powers. Team building and events.',
        'Triple Town (2011) — City-building match-3 with bears. Grow from bushes to mansions.',
        'Best Fiends (2014) — Creature collecting match-3. Levels against slugs.',
        'Homescapes (2017) — Match-3 with home renovation. Austin\'s mansion story.',
        'Gardenscapes (2016) — Garden restoring match-3. Butler Austin\'s adventures.',
        'Cookie Jam (2014) — Baking match-3 with orders. Sweet levels and power-ups.'
      ] },
      { id:'physics', name:'Physics Puzzle', desc:'Use physics interactions to solve puzzles. Manipulate gravity, momentum, and objects.', games:[
        'Portal 2 (2011) — Portal gun puzzles with co-op and humor. GLaDOS\' tests and gels.',
        'World of Goo (2008) — Bridge-building with goo physics. Construct to sign painter\'s messages.',
        'The Talos Principle (2014) — Philosophical puzzles with lasers. AI in simulation questioning existence.',
        'Human: Fall Flat (2016) — Wobbly physics-based platform puzzles. Co-op climbing and vehicles.',
        'The Pedestrian (2019) — Sign rearranging puzzle. 2D figure in 3D world.',
        'Crayon Physics Deluxe (2009) — Draw to solve with physics. Ball to star goals.',
        'Limbo (2010) — Dark physics platform puzzle. Boy searches for sister in limbo.',
        'Trine (2009) — Co-op physics with classes. Wizard, knight, thief abilities.',
        'Besiege (2015) — Machine building physics destruction. Medieval siege engines.',
        'Poly Bridge (2015) — Bridge construction with budgets. Vehicle crossing simulations.',
        'Kerbal Space Program (2015) — Rocket physics puzzles. Orbital challenges.',
        'Fantastic Contraption (2008) — VR machine building. Wheel and rod contraptions.'
      ] },
      { id:'escape', name:'Escape Room', desc:'Solve interconnected puzzles to escape a location. Find clues and combine items.', games:[
        'The Room (2012) — Intricate mechanical puzzle boxes. Touch controls for locks.',
        'Escape Simulator (2021) — Multiplayer escape rooms with editor. Physics-based interactions.',
        'We Were Here (2017) — Co-op escape puzzles with communication. Walkie-talkie riddles.',
        'The Escapists 2 (2017) — Prison break planning. Craft tools and routines.',
        'Zero Escape: Virtue\'s Last Reward (2012) — Visual novel escape with branches. Morphogenetic fields.',
        'Cube Escape series (2015) — Rusty Lake point-click escapes. Surreal horror connected stories.',
        'Rusty Lake Hotel (2015) — Animal guest puzzle murders. Dinner preparation minigames.',
        'Keep Talking and Nobody Explodes (2015) — Bomb defusal co-op. Manual reader vs defuser.',
        'I Expect You To Die (2016) — VR spy escape puzzles. Telekinesis in death traps.',
        'The Witness (2016) — Open-world line puzzles. Island with perspective tricks.'
      ] },
      { id:'sokoban', name:'Sokoban', desc:'Push blocks to goals in constrained spaces. Plan moves to avoid stuck states.', games:[
        'Baba Is You (2019) — Rules are part of the puzzle. Change words to alter mechanics.',
        'Stephen\'s Sausage Roll (2016) — Brutally clever block-pushing. Grill sausages with forks.',
        'A Monster\'s Expedition (2020) — Whimsical island-hopping puzzles. Push logs for bridges.',
        'Snakebird (2015) — Snake-like fruit eating puzzles. Grow and maneuver birds.',
        'Pipe Push Paradise (2018) — Plumbing sokoban with rotations. Fix island pipes.',
        'Starseed Pilgrim (2013) — Abstract building sokoban. Plant seeds for structures.',
        'Jelly no Puzzle (2013) — Gel merging sokoban. Color rules and gravity.',
        'Sokobond (2013) — Chemistry atom pushing. Form molecules with bonds.',
        'Corrypt (2012) — Magic sokoban with corruption. Alter world states.',
        'Puddle (2010) — Liquid tilting physics sokoban. Guide fluid to goals.'
      ] }
    ],
    games: [
      'Tetris (1984) — The ultimate falling block puzzle. Rotate tetrominoes for lines.',
      'Baba Is You (2019) — You make the rules — literally. Word manipulation meta-puzzles.',
      'Portal (2007) — Momentum puzzle shooter. Think with portals.',
      'The Witness (2016) — Line-drawing open world. 500+ puzzles on mysterious island.',
      'Myst (1993) — Linking book puzzle adventure. Solve ages with mechanical contraptions.',
      'The Talos Principle 2 (2023) — Robot philosophy puzzles. Laser bridges and accumulators.',
      'Antichamber (2013) — Non-Euclidean geometry puzzles. Mind-bending spaces.',
      'Fez (2012) — Dimension rotate platform puzzle. Collect cubes in 2D/3D world.',
      'Limbo (2010) — Silhouette puzzle platformer. Deadly traps in monochrome.',
      'Monument Valley (2014) — Escher-like architecture puzzles. Guide Ida through illusions.'
    ]
  },
  {
    id: 'horror',
    name: 'Horror',
    desc: 'Designed to evoke fear, tension and dread. Mechanics can include limited resources, stealth, and psychological effects.',
    subgenres: [
      { id:'survival-horror', name:'Survival Horror', desc:'Limited resources + survival tension. Manage ammo and health against threats.', games:[
        'Resident Evil 4 (2005) — Action-horror with over-the-shoulder camera. Leon vs Los Ganados in Europe.',
        'Silent Hill 2 (2001) — Psychological horror masterpiece. James\' search for Mary in foggy town.',
        'Dead Space (2008) — Sci-fi horror with dismemberment mechanics. Isaac vs necromorphs on Ishimura.',
        'Amnesia: The Dark Descent (2010) — Helplessness and sanity system. Hide from monsters in castle.',
        'Outlast (2013) — Run-and-hide horror with camcorder night vision. Investigate Mount Massive asylum.',
        'Resident Evil 7 (2017) — First-person biohazard with family. Ethan\'s rescue of Mia from Bakers.',
        'Alien: Isolation (2014) — Xenomorph stalking with motion tracker. Amanda Ripley on Sevastopol.',
        'The Evil Within 2 (2017) — Open areas horror with crafting. Sebastian in STEM world.',
        'Soma (2015) — Underwater existential horror. Simon\'s identity in PATHOS-II.',
        'Layers of Fear (2016) — Haunted mansion with paintings. Artist\'s descent into madness.',
        'Fatal Frame II (2003) — Ghost photography horror. Camera obscura against spirits.',
        'Visage (2020) — P.T.-like house horror. Procedural scares and history.'
      ] },
      { id:'psychological', name:'Psychological Horror', desc:'Atmosphere and narrative-driven scares. Mess with perception and sanity.', games:[
        'P.T. (2014) — Playable teaser that became a horror legend. Looping hallway with Lisa.',
        'Layers of Fear (2016) — Painter descends into madness. Shifting rooms and visions.',
        'Soma (2015) — Existential sci-fi horror underwater. Consciousness transfers and WAU.',
        'Visage (2020) — P.T.-inspired haunted house exploration. Family tragedies relived.',
        'Silent Hill 4: The Room (2004) — Apartment horror with holes. Henry vs Walter\'s otherworld.',
        'Hellblade: Senua\'s Sacrifice (2017) — Psychosis-simulating adventure. Norse myths and voices.',
        'Observer (2017) — Cyberpunk mind-hacking horror. Detective in neural interrogations.',
        'The Cat Lady (2012) — Depression-themed point-click. Susan\'s deals with queens.',
        'Fran Bow (2015) — Child trauma puzzle horror. Reality-shifting pills.',
        'Yume Nikki (2004) — Dream exploration surreal horror. Madotsuki\'s subconscious worlds.',
        'Cry of Fear (2012) — Half-Life mod psychological. Simon\'s book and monsters.'
      ] },
      { id:'action-horror', name:'Action Horror', desc:'Horror with heavy combat and spectacle. Fight back against terrifying enemies.', games:[
        'Doom 3 (2004) — Dark, flashlight-based demon shooting. Mars base invasion.',
        'F.E.A.R. (2005) — FPS horror with slow-motion and AI. Point Man vs Alma.',
        'The Evil Within (2014) — Survival horror by Shinji Mikami. Sebastian in nightmarish world.',
        'Dead Space 2 (2011) — Isaac\'s spree on Titan station. Stasis and kinesis combat.',
        'Resident Evil 5 (2009) — Co-op action horror in Africa. Chris and Sheva vs majini.',
        'Dying Light (2015) — Zombie parkour action horror. Day/night cycle in Harran.',
        'Left 4 Dead 2 (2009) — Co-op zombie shooter with specials. Campaigns through south.',
        'Killing Floor 2 (2016) — Wave-based zed shooter. Perks and boss fights.',
        'Metro: Last Light (2013) — Post-apoc shooter with mutants. Artyom\'s redemption.',
        'BioShock (2007) — Underwater action horror with plasmids. Rapture\'s splicers and daddies.'
      ] },
      { id:'analog', name:'Analog Horror', desc:'VHS-found footage style with meta-narrative. Unsettling tapes and broadcasts.', games:[
        'Iron Lung (2022) — Claustrophobic submersible exploration. Scan blood ocean anomalies.',
        'Stories Untold (2017) — Episodic text-adventure horror. House abandonment and experiments.',
        'Inscryption (2021) — Card game with creeping horror. Cabin meta and ARG elements.',
        'The Utility Room (2022) — Liminal space exploration. Maintain cosmic structures.',
        'IMSCARED (2012) — Meta horror with files. Breaking fourth wall scares.',
        'Doki Doki Literature Club (2017) — Visual novel meta horror. Club members\' psyches.',
        'Pony Island (2016) — Arcade game within game horror. Hack the devil\'s code.',
        'Buddy Simulator 1984 (2021) — AI friend simulation horror. DOS-like interface twists.',
        'No Players Online (2019) — Abandoned FPS server horror. Tapes and entities.',
        'The Hex (2018) — Game characters\' murder mystery. Genre-hopping narrative.'
      ] }
    ],
    games: [
      'Outlast (2013) — Pure tension with no combat — only running. Camcorder battery management.',
      'Alien: Isolation (2014) — One perfect xenomorph AI in space. Hiding in lockers.',
      'Resident Evil Village (2021) — Werewolf horror with tall lady. Ethan\'s daughter rescue.',
      'Silent Hill (1999) — Otherworld shifts in foggy town. Harry searches for Cheryl.',
      'Dead Space Remake (2023) — Updated necromorph dismemberment. USG Ishimura horrors.',
      'Amnesia: A Machine for Pigs (2013) — Industrial horror with manpigs. Oswald\'s factory descent.',
      'S.T.A.L.K.E.R.: Shadow of Chernobyl (2007) — Zone anomalies and mutants. Marked One\'s amnesia.',
      'Phasmophobia (2020) — Co-op ghost hunting. Equipment and evidence gathering.',
      'Devour (2021) — Multiplayer ritual horror. Ban Azazel\'s followers.',
      'The Mortuary Assistant (2022) — Embalming horror with demons. Identify possessed bodies.'
    ]
  },
  {
    id: 'sports',
    name: 'Sports',
    desc: 'Simulations or arcade representations of real-world sports and competitive activities. Compete in leagues or casual play.',
    subgenres: [
      { id:'team', name:'Team Sports', desc:'Football, basketball and other team-based sports sims. Manage rosters and strategies.', games:[
        'FIFA 23 (2022) — Official soccer with clubs and national teams. Ultimate team card mode.',
        'NBA 2K24 (2023) — Basketball sim with deep career modes. MyPlayer builder and eras.',
        'Madden NFL 24 (2023) — American football with realistic plays. Franchise mode and superstars.',
        'NHL 24 (2023) — Ice hockey with improved checking physics. Hockey ultimate team.',
        'FIFA Street (2012) — Street soccer with tricks. Futsal and panna modes.',
        'NBA Jam (2010) — Arcade basketball with dunks. Boomshakalaka commentary.',
        'Rocket League (2015) — Car soccer with aerials. Competitive ranks and seasons.',
        'Pro Evolution Soccer 2019 (2018) — Realistic soccer sim. Master league management.',
        'MLB The Show 23 (2023) — Baseball sim with diamond dynasty. Road to the show career.',
        'UFC 5 (2023) — MMA fighting sim with grapples. Career mode to champion.'
      ] },
      { id:'extreme', name:'Extreme Sports', desc:'Skateboarding, snowboarding and extreme competitions. Perform tricks and combos.', games:[
        'Tony Hawk\'s Pro Skater 1+2 (2020) — Remastered skate classics. Create-a-park and multiplayer.',
        'SSX Tricky (2001) — Over-the-top snowboarding with uber tricks. Run the world circuit.',
        'Skate 3 (2010) — Realistic skateboarding with physics. Hall of meat bails.',
        'Steep (2016) — Open-world extreme winter sports. Wingsuit and paragliding.',
        'OlliOlli World (2022) — Side-scroll skate with flow. Radlandia adventure.',
        'Descenders (2018) — Downhill biking with procedurals. Trick combos in biomes.',
        'BMX Streets (2024) — Open-world BMX with mods. Realistic pipe physics.',
        'Shredders (2022) — Snowboarding sim with grabs. Film crew challenges.',
        'Session (2022) — Skate sim with dual sticks. No score, pure skating.',
        'Riders Republic (2021) — Massive multiplayer extreme sports. Bike, ski, wing races.'
      ] },
      { id:'racing-sports', name:'Motorsports', desc:'Formula 1, rally, and motorcycle racing. Handle vehicles with speed and precision.', games:[
        'F1 24 (2024) — Official Formula 1 racing simulation. Driver career with team switches.',
        'MotoGP 24 (2024) — Motorcycle racing with lean physics. Rider market and stewards.',
        'Dirt Rally 2.0 (2019) — Realistic off-road rally simulation. Stage degradation and pacenotes.',
        'Gran Turismo Sport (2017) — Online-focused racing with FIA. Sport mode competitions.',
        'Forza Motorsport (2023) — Track racing sim with builders cup. Car leveling and tuning.',
        'WRC 10 (2021) — Official rally with historic cars. Career from junior to champion.',
        'MXGP 2021 (2021) — Motocross racing with deformations. Track editor and contracts.',
        'NASCAR Heat 5 (2020) — Stock car racing with career. Team ownership and rivals.',
        'iRacing (2008) — Sim racing with laserscanned tracks. Oval and road courses.',
        'Assetto Corsa (2014) — Driving sim with mods. Laser-scanned circuits and cars.'
      ] },
      { id:'arcade-sports', name:'Arcade Sports', desc:'Fun, exaggerated sports with power-ups. Over-the-top action and multiplayer.', games:[
        'Rocket League (2015) — Soccer with rocket-powered cars. Supersonic acrobatic plays.',
        'Windjammers (1994) — Frisbee tennis with super moves. Power shots and zones.',
        'Nintendo Switch Sports (2022) — Motion-controlled party sports. Online play with customization.',
        'NBA Jam (1993) — 2v2 arcade basketball with turbo. On fire dunks and big heads.',
        'NFL Blitz (1997) — No-rules American football. Late hits and showboating.',
        'Mario Strikers: Battle League (2022) — Soccer with items. Hyper strikes and gear.',
        'Punch-Out!! (2009) — Boxing rhythm arcade. Dodge patterns against quirky opponents.',
        'Super Mega Baseball 3 (2020) — Arcade baseball with ego. Franchise mode and customization.',
        'Disc Jam (2017) — Air hockey frisbee hybrid. Curve shots and intercepts.',
        'Lethal League Blaze (2018) — Ball batting fighter. Speed up anti-grav ball.'
      ] }
    ],
    games: [
      'Madden NFL 25 (2024) — Annual football simulation. FieldSENSE and BOOM Tech physics.',
      'F1 2024 (2024) — Cutting-edge Formula 1 racing. Dynamic handling model.',
      'NBA 2K25 (2024) — Basketball sim with ProPLAY. MyNBA eras and WNBA.',
      'Tony Hawk\'s Pro Skater 1+2 (2020) — Skate remake with original soundtrack.',
      'Rocket League (2015) — Vehicular sports phenomenon. Cross-platform play.',
      'FIFA 25 (2024) — Soccer sim with Hypermotion. Club career and tactics.',
      'WWE 2K24 (2024) — Wrestling sim with showcase. 40 years of WrestleMania.',
      'PGA Tour 2K23 (2023) — Golf sim with courses. MyPLAYER creation.',
      'MLB The Show 24 (2024) — Baseball with Storylines. Negro Leagues and women.',
      'NHL 25 (2024) — Hockey with ICE-Q. Next-gen goalies and animations.'
    ]
  }
];

/* ---------- GENRE ACCENT COLOURS ---------- */
const GENRE_COLORS = {
  'rpg': '#e91e63',
  'shooter': '#ff5722',
  'strategy': '#ffc107',
  'adventure': '#4caf50',
  'platformer': '#2196f3',
  'fighting': '#9c27b0',
  'sim': '#00bcd4',
  'puzzle': '#cddc39',
  'horror': '#f44336',
  'sports': '#ff9800'
};

/* ---------- UTILS ---------- */
function el(tag, attrs={}, children=[]){
  const d = document.createElement(tag);
  for(const k in attrs){
    if(k==='class') d.className = attrs[k];
    else if(k==='html') d.innerHTML = attrs[k];
    else d.setAttribute(k, attrs[k]);
  }
  (Array.isArray(children)?children:[children]).forEach(c=>{ if(!c) return; if(typeof c === 'string') d.appendChild(document.createTextNode(c)); else d.appendChild(c);});
  return d;
}
function hexToRGBA(hex, a){
  const r = parseInt(hex.slice(1,3),16), g = parseInt(hex.slice(3,5),16), b = parseInt(hex.slice(5,7),16);
  return `rgba(${r},${g},${b},${a})`;
}

/* ---------- CURSOR TRAIL ---------- */
const trail = document.getElementById('cursor-trail');
const history = [];
const max = 12;
let mx = 0, my = 0;
document.addEventListener('mousemove', e=>{ mx=e.clientX; my=e.clientY; history.push({x:mx,y:my}); if(history.length>max) history.shift(); });
function update(){ if(history.length){ const p=history[history.length-1]; trail.style.left=p.x+'px'; trail.style.top=p.y+'px'; trail.style.opacity='0.8'; } requestAnimationFrame(update); }
update();

/* ---------- DOM REFERENCES ---------- */
const hub = document.getElementById('hub');
const bubbles = document.getElementById('bubbles');
const svg = document.getElementById('svg-lines');
const panel = document.getElementById('panel');
const panelTitle = document.getElementById('panel-title');
const panelMeta = document.getElementById('panel-meta');
const panelDesc = document.getElementById('panel-desc');
const panelGames = document.getElementById('panel-games');
const panelClose = document.getElementById('panel-close');
const gamesLeft = document.getElementById('games-left');
let activeMain = null, activeSub = null, nodes = {};

/* ---------- LAYOUT ---------- */
function hubRect(){ return hub.getBoundingClientRect(); }
function layoutMain(){
  bubbles.innerHTML=''; svg.innerHTML=''; nodes={};
  const c = {x:hubRect().width/2, y:hubRect().height/2+10};
  const r = Math.min(hubRect().width, hubRect().height)*0.33;
  GENRE_DATA.forEach((g,i)=>{
    const a = (i/GENRE_DATA.length)*Math.PI*2 - Math.PI/2;
    const x = c.x + Math.cos(a)*r;
    const y = c.y + Math.sin(a)*r*0.95;
    const accent = GENRE_COLORS[g.id]||'#6be6c1';
    const btn = el('button',{
      class:'bubble main', 'data-id':g.id, 'aria-label':g.name, tabindex:0,
      style:`--accent:${accent};--bubble-bg:linear-gradient(135deg,${hexToRGBA(accent,0.15)},${hexToRGBA(accent,0.05)});--bubble-border:rgba(255,255,255,0.15);`
    });
    btn.innerHTML=`<div style="padding:6px">${g.name}</div>`;
    btn.style.left=x+'px'; btn.style.top=y+'px';
    bubbles.appendChild(btn);
    nodes[g.id]={x,y,el:btn,data:g,accent};
    btn.onclick = ()=>onMain(g.id);
    btn.onkeydown = e=>{ if(e.key==='Enter'||e.key===' ') {e.preventDefault(); onMain(g.id);} };
  });
}

/* ---------- SVG GLOW FILTER ---------- */
const defs = document.createElementNS('http://www.w3.org/2000/svg','defs');
const filter = document.createElementNS('http://www.w3.org/2000/svg','filter');
filter.id='glow';
filter.innerHTML=`<feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>
<feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>`;
defs.appendChild(filter);
svg.appendChild(defs);

/* ---------- LINE DRAWING ---------- */
function line(a,b,o={}){
  const l = document.createElementNS('http://www.w3.org/2000/svg','path');
  const dx=b.x-a.x, dy=b.y-a.y, mx=a.x+dx*0.45, my=a.y+dy*0.45;
  l.setAttribute('d',`M${a.x} ${a.y} C${mx} ${a.y},${mx} ${b.y},${b.x} ${b.y}`);
  l.setAttribute('stroke',o.stroke||'rgba(255,255,255,0.12)');
  l.setAttribute('stroke-width',o.width||1.3);
  l.setAttribute('fill','none'); l.setAttribute('stroke-linecap','round');
  l.setAttribute('opacity',o.opacity||0.9);
  l.setAttribute('filter','url(#glow)');
  svg.appendChild(l);
  return l;
}

/* ---------- INTERACTION ---------- */
function onMain(id){
  const n = nodes[id];
  if(!n) return;
  if(activeMain===id){ closeAll(); return; }
  activeMain=id; activeSub=null;
  Object.values(nodes).forEach(v=>{ v.el.classList.toggle('active',v===n); v.el.classList.toggle('fade-out',v!==n); });
  svg.innerHTML=''; svg.appendChild(defs);
  removeSubs();
  closeGamesLeft();
  renderSubs(n);
  renderGamesLeft(n.data.games || [], 'Notable Games for ' + n.data.name, n.data);
  openPanel(n.data);
  trail.style.setProperty('--trail-color',n.accent);
}
function removeSubs(){ document.querySelectorAll('.sub').forEach(e=>e.remove()); }
function closeAll(){
  activeMain=activeSub=null;
  Object.values(nodes).forEach(v=>v.el.classList.remove('active','fade-out'));
  svg.innerHTML=''; svg.appendChild(defs);
  removeSubs();
  closeGamesLeft();
  closePanel();
}
function renderSubs(main){
  const subs = main.data.subgenres||[];
  if(!subs.length) return;
  const spread = Math.PI*1.6, radius=150;
  const baseIdx = GENRE_DATA.findIndex(g=>g.id===main.data.id);
  const mainAngle = (baseIdx/GENRE_DATA.length)*Math.PI*2 - Math.PI/2;
  subs.forEach((s,i)=>{
    const frac = subs.length===1?0.5:i/(subs.length-1);
    const a = mainAngle - spread/2 + frac*spread;
    const x = main.x + Math.cos(a)*radius;
    const y = main.y + Math.sin(a)*radius;
    const btn = el('button',{
      class:'bubble sub','data-id':`${main.data.id}::${s.id}`,'aria-label':s.name,tabindex:0,
      style:`--accent:${main.accent};--sub-bg:${hexToRGBA(main.accent,0.2)};--sub-border:${hexToRGBA(main.accent,0.3)};`
    });
    btn.innerHTML=`<div style="padding:4px;font-size:11.5px;line-height:1.2;">${s.name}</div>`;
    btn.style.left=x+'px'; btn.style.top=y+'px';
    bubbles.appendChild(btn);
    line({x:main.x,y:main.y},{x,y},{stroke:hexToRGBA(main.accent,0.3),width:1.6});
    btn.onclick = e=>{e.stopPropagation(); onSub(main.data,s);};
    btn.onkeydown = ev=>{if(ev.key==='Enter'||ev.key===' ') {ev.preventDefault(); onSub(main.data,s);}};
  });
}
function renderGamesLeft(games, title, data){
  gamesLeft.innerHTML = '';
  gamesLeft.appendChild(el('h3', {}, title));
  const list = el('div',{class:'games-left-list'});
  games.forEach(g=>{
    const b = el('button',{class:'game-box'}, g.split(' (')[0]);
    b.onclick = ()=>openPanel(data, {title:g, extra: g.split('— ')[1] || 'A notable title in this genre.'});
    list.appendChild(b);
  });
  gamesLeft.appendChild(list);
  gamesLeft.classList.add('open');
  gamesLeft.setAttribute('aria-hidden','false');
}
function closeGamesLeft(){
  gamesLeft.classList.remove('open');
  gamesLeft.setAttribute('aria-hidden','true');
  gamesLeft.innerHTML = '';
}
function onSub(mainData,subData){
  activeSub = subData.id;
  document.querySelectorAll('.sub').forEach(s=>s.classList.toggle('fade-out',s.dataset.id!==`${mainData.id}::${subData.id}`));
  svg.innerHTML=''; svg.appendChild(defs);
  const mainNode = nodes[mainData.id];
  const subEl = bubbles.querySelector(`[data-id="${mainData.id}::${subData.id}"]`);
  const rect = subEl.getBoundingClientRect();
  const hubR = hub.getBoundingClientRect();
  const subC = {x:rect.left-hubR.left+rect.width/2, y:rect.top-hubR.top+rect.height/2};
  line({x:mainNode.x,y:mainNode.y},subC,{stroke:mainNode.accent,width:1.8});
  closeGamesLeft();
  renderGamesLeft(subData.games || [], 'Notable Games for ' + subData.name, mainData);
  openPanel(mainData, {sub:subData});
}

/* ---------- PANEL ---------- */
function openPanel(data,opts={}){
  panel.classList.add('open'); panel.setAttribute('aria-hidden','false');
  if(opts.title){
    const titleText = opts.title.split(' (')[0];
    const yearMatch = opts.title.match(/\((\d{4})\)/);
    const year = yearMatch ? yearMatch[1] : '';
    const desc = opts.extra || 'A notable title.';
    panelTitle.textContent = titleText;
    panelMeta.textContent = `${data.name} — ${year}`;
    panelDesc.textContent = desc;
    panelGames.innerHTML = '';
    const steamLink = el('a', {href:`https://store.steampowered.com/search/?term=${encodeURIComponent(titleText)}`, target:'_blank', style:'margin-top:12px;display:inline-block;color:var(--accent);text-decoration:none;font-weight:600;'}, 'Search on Steam');
    panelGames.appendChild(steamLink);
    const back = el('button', {style:'margin-left:12px;background:transparent;border:0;color:var(--muted);cursor:pointer;font-weight:600;'}, 'Back');
    back.onclick = ()=>openPanel(data, opts.sub ? {sub: opts.sub} : {});
    panelGames.appendChild(back);
    return;
  }
  if(opts.sub){
    panelTitle.textContent = opts.sub.name;
    panelMeta.textContent = `${data.name} subgenre`;
    panelDesc.textContent = opts.sub.desc||'No description.';
    panelGames.innerHTML='';
    return;
  }
  panelTitle.textContent = data.name;
  panelMeta.textContent = 'Main genre';
  panelDesc.textContent = data.desc||'Description not set.';
  panelGames.innerHTML='';
}
function closePanel(){
  panel.classList.remove('open'); panel.setAttribute('aria-hidden','true');
  panelTitle.textContent='Welcome'; panelMeta.textContent='Interactive encyclopedia';
  panelDesc.textContent='Click any bubble to explore genres and games.'; panelGames.innerHTML='';
}
panelClose.onclick = closePanel;

/* ---------- GLOBAL CLICKS / ESC ---------- */
document.addEventListener('click',e=>{
  if(!e.target.closest('.bubble,.game-box,.panel,.topbar,.games-left')) closeAll();
});
document.addEventListener('keydown',e=>{ if(e.key==='Escape') closeAll(); });

/* ---------- RESIZE ---------- */
let rt; window.addEventListener('resize',()=>{ clearTimeout(rt); rt=setTimeout(layoutMain,120); });

/* ---------- START ---------- */
layoutMain();

/* screen-reader hint */
document.body.appendChild(el('div',{style:'position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;'},
  'GameMap: Use tab/arrow keys to navigate bubbles. Press Enter or Space to expand.'));
</script>
</body>
</html>
